<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-loading-bar.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"aluggnb.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Step out of your comfort zone">
<meta property="og:type" content="website">
<meta property="og:title" content="Alugg&#39;s Blog">
<meta property="og:url" content="https://aluggnb.com/page/4/index.html">
<meta property="og:site_name" content="Alugg&#39;s Blog">
<meta property="og:description" content="Step out of your comfort zone">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Alugg">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://aluggnb.com/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Alugg's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Alugg's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aluggnb.com/2023/10/10/javaday12_codeforHashMap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Alugg">
      <meta itemprop="description" content="Step out of your comfort zone">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alugg's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/10/javaday12_codeforHashMap/" class="post-title-link" itemprop="url">java-Day12——HashMap源码</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-10 19:18:01" itemprop="dateCreated datePublished" datetime="2023-10-10T19:18:01+08:00">2023-10-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>6.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>数据结构就是一种程序设计优化方法论，研究数据的“逻辑结构“和”物理结构”以及它们之间相互关系，并对这种结构定义相应的”运算，目的是加快程序的执行速度、减少内存的占用空间</p>
<h2 id="研究对象"><a href="#研究对象" class="headerlink" title="研究对象"></a>研究对象</h2><p><strong>研究对象1：数据之间的逻辑关系</strong></p>
<ul>
<li><p>集合结构</p>
</li>
<li><p>线性结构：一对一</p>
</li>
<li><p>树形结构：一对多</p>
</li>
<li><p>图形结构：多对多</p>
</li>
</ul>
<p><strong>研究对象2：数据的存储结构</strong></p>
<ul>
<li>顺序结构</li>
<li>链式结构</li>
<li>索引结构</li>
<li>散列结构</li>
</ul>
<p>开发中，更习惯于如下的方式理解存储结构</p>
<ul>
<li>线性表（一对一）：一维数组、单向链表、双向链表、栈、队列</li>
<li>树（一对多）：各种树。 二叉树、B+树</li>
<li>图（多对多）：</li>
<li>哈希表：HashMap、HashSet</li>
</ul>
<p>研究对象3：相关算法操作</p>
<ul>
<li><p>分配资源、建立结构、释放资源</p>
</li>
<li><p>插入和删除</p>
</li>
<li><p>获取和遍历</p>
</li>
<li><p>修改和排序</p>
</li>
</ul>
<h1 id="存储结构"><a href="#存储结构" class="headerlink" title="存储结构"></a>存储结构</h1><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h2 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h2><p><strong>单向链表</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>&#123;</span><br><span class="line"></span><br><span class="line">	Object data;</span><br><span class="line"></span><br><span class="line">	Node next;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(Object data)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">Node</span> <span class="variable">node1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="string">&quot;AA&quot;</span>);</span><br><span class="line"><span class="type">Node</span> <span class="variable">node2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="string">&quot;BB&quot;</span>);</span><br><span class="line">node1.next = node2;</span><br></pre></td></tr></table></figure>

<p><strong>双向链表</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">	Node prev;</span><br><span class="line">	Object data;</span><br><span class="line">	Node next;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(Object data)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(Node prev, Object data, Node next)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.prev = prev;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">        <span class="built_in">this</span>.next = next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">Node</span> <span class="variable">node1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="literal">null</span>, <span class="string">&quot;aa&quot;</span>, <span class="literal">null</span>);</span><br><span class="line"><span class="type">Node</span> <span class="variable">node2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(node1, <span class="string">&quot;bb&quot;</span>, <span class="literal">null</span>);</span><br><span class="line"><span class="type">Node</span> <span class="variable">node3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(node2,<span class="string">&quot;cc&quot;</span>, <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">node1.next = node2;</span><br><span class="line">node2.next = node3;</span><br></pre></td></tr></table></figure>

<h2 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class TreeNode&#123;</span><br><span class="line">	TreeNode parent; </span><br><span class="line">	TreeNode left;</span><br><span class="line">	Object data;</span><br><span class="line">	TreeNode right;</span><br><span class="line">	</span><br><span class="line">	public TreeNode(Object data)&#123;</span><br><span class="line">		this.data = data;</span><br><span class="line">	&#125;</span><br><span class="line">	public TreeNode(TreeNode left, Object data, TreeNode right)&#123;</span><br><span class="line">		this.left =left;</span><br><span class="line">		this.data = data;</span><br><span class="line">		this.right=right;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TreeNode node1 = new TreeNode(null, null,&quot;AA&quot;, null);</span><br><span class="line">TreeNode leftNode = new TreeNode(node1, null,&quot;bb&quot;, null);</span><br><span class="line">TreeNode rightNode = new TreeNode(node1, null,&quot;cc&quot;, null);</span><br><span class="line">node1.right = rightNode;</span><br><span class="line">node1.left = leftNode;</span><br></pre></td></tr></table></figure>

<h2 id="栈FILO"><a href="#栈FILO" class="headerlink" title="栈FILO"></a>栈FILO</h2><ul>
<li>属于抽象数据类型（ADT）</li>
<li>可以使用数组或链表来构建</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Stack</span>&#123;</span><br><span class="line">    <span class="comment">//数组实现栈</span></span><br><span class="line">    Object[] values</span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Stack</span><span class="params">(<span class="type">int</span> length)</span>&#123;</span><br><span class="line">        values = <span class="keyword">new</span> <span class="title class_">Object</span>[length];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(Object ele)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(size&gt;=values.length)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;栈空间已满&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        values[size]=ele;</span><br><span class="line">        size++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">pop</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(size &lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;栈空间已空&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> values[size-<span class="number">1</span>];</span><br><span class="line">        values[size-<span class="number">1</span>] = <span class="literal">null</span>;</span><br><span class="line">        size--;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="队列FIFO"><a href="#队列FIFO" class="headerlink" title="队列FIFO"></a>队列FIFO</h2><ul>
<li>属于抽象数据类型（ADT）</li>
<li>可以使用数组或链表来构建</li>
</ul>
<p>class Stack{<br>    &#x2F;&#x2F;数组实现栈<br>    Object[] values<br>    int size;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Queue</span>&#123;</span><br><span class="line">    Object[] values;</span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Queue</span><span class="params">(<span class="type">int</span> lenght)</span>&#123;</span><br><span class="line">        values = <span class="keyword">new</span> <span class="title class_">Object</span>[length];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Object ele)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(size&gt;= values.length)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;队列已满，添加失败&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        values[size] = ele;</span><br><span class="line">        size ++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">get</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(size&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;队列已空，获取失败&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> values[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i= <span class="number">0</span>;i&lt;size-<span class="number">1</span>;i++)&#123;</span><br><span class="line">            values[i] = values[i+<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        values[size - <span class="number">1</span>] = <span class="literal">null</span>;</span><br><span class="line">        size --;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="List源码"><a href="#List源码" class="headerlink" title="List源码"></a>List源码</h1><h2 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h2><p><strong>ArrayList特点</strong></p>
<ul>
<li>实现了List接口，存储有序、可以重复的数据</li>
<li>底层使用Object[]数组存储</li>
<li>线程不安全</li>
</ul>
<p><strong>ArrayList源码解析</strong></p>
<p><strong>jdk7</strong>: 如下代码执行：底层会初始化数组，数组的长度为10。Object[] elementData &#x3D; new Object[10]</p>
<p>ArrayList<String> list &#x3D; new ArrayList&lt;&gt;()</p>
<p>list.add(“AA”);&#x2F;&#x2F;elementData[0] &#x3D; “AA”;</p>
<p>list.add(“BB”); &#x2F;&#x2F;elementData[1] &#x3D; “BB”;</p>
<p>…..</p>
<p>当添加第11个元素时，底层elementData数组已满，则需要扩容。默认扩容为原来长度的1.5倍。并将原有数组中的元素赋值到新的数组中</p>
<p>**jdk8:**底层会初始化数组，即：Object[] elementData&#x3D; new Object[]{};</p>
<p>ArrayList<String> list &#x3D; new ArrayList&lt;&gt;();</p>
<p>list.add(“AA”);&#x2F;&#x2F;首次添加元素，会初始化数组 elementData &#x3D; new Object[10]; elementData[0] &#x3D; “AA”;</p>
<p>list.add(“BB”);&#x2F;&#x2F;elementData[1] &#x3D; “BB”;</p>
<p>当添加第11个元素时，底层elementData数组已满，则需要扩容。默认扩容为原来长度的1.5倍。并将原有数组中的元素赋值到新的数组中</p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p><strong>小结</strong></p>
<p>jdk7中类似于饿汉式</p>
<p>jdk8中类似于懒汉式</p>
<h2 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h2><p><strong>特点</strong></p>
<ul>
<li>实现了List接口，存储有序、可以重复的数据</li>
<li>底层使用了Object[]数组存储</li>
<li>线程安全</li>
</ul>
<p><strong>源码</strong></p>
<p>Vector v &#x3D; new Vector();&#x2F;&#x2F;底层初始化数组，长度为10 Object[] element &#x3D; new Object[10];</p>
<p>v.add(“aa”);</p>
<p>v.add(“bb”);</p>
<p>当前添加第11个元素时，扩容2倍</p>
<h2 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h2><p><strong>特点</strong></p>
<ul>
<li>实现List接口，存储有序、可以重复的数据</li>
<li>底层使用了双向链表存储</li>
<li>线程不安全</li>
</ul>
<p><strong>源码</strong></p>
<p>LinkedList<String> list &#x3D; new LinkedList&lt;&gt;(); &#x2F;&#x2F;底层也没做啥</p>
<p>list.add(“AA”);&#x2F;&#x2F;将“AA”封装到一个Node对象中，list对象的属性first、last都指向次node对象。</p>
<p>list.add(“BB”);&#x2F;&#x2F;将“BB”封装到一个Node对象2中，对象1和对象2构成一个双向链表，同时last指向此Node对象2  </p>
<p>…..</p>
<p>因为linkedList使用的是双向链表，不需要考虑扩容问题。</p>
<h2 id="启示"><a href="#启示" class="headerlink" title="启示"></a>启示</h2><p>1.Vector不使用了</p>
<p>2.ArrayList底层使用数组结构，查找和添加（尾部添加）操作效率高，时间复杂度为O（1）</p>
<p>删除和插入操作效率低，时间复杂度为O（n)</p>
<p>LinkedList底层使用双向链表，删除和插入操作效率高，时间复杂度O（1）</p>
<p>查找和添加（尾部添加）操作效率低，时间为O（n)（添加可能O(1))</p>
<p>3.在选择了ArrayList的前提下，new ArrayList()：底层创建长度为10的数组。</p>
<p>new ArrayList(int capacity):底层创建指定capacity长度的数组。</p>
<h1 id="Map源码"><a href="#Map源码" class="headerlink" title="Map源码"></a>Map源码</h1><h2 id="HashMap源码解析"><a href="#HashMap源码解析" class="headerlink" title="HashMap源码解析"></a>HashMap源码解析</h2><p><strong>jdk7:</strong></p>
<p>&#x2F;&#x2F;创建对象的过程中，底层会初始化数组Entry[] table &#x3D; new Entry[16];</p>
<p>HashMap&lt;String, Integer&gt; map &#x3D; new HashMap&lt;&gt;();</p>
<p>map.put(“AA”, 78); &#x2F;&#x2F;“AA”和78封装到一个Entry对象总，考虑将此对象添加到table数组中。</p>
<p>…</p>
<p>添加&#x2F;修改的过程:</p>
<p>将（key1,value1)添加到当前的map中</p>
<p>首先，需要调用key所在类的hashCode()方法，计算key1对应的哈希值1，此哈希值1经过某种算法（hash())之后，得到哈希值2。</p>
<p>哈希值2再经过某种算法（indexFor())之后，就确定了(key1,value1)在数组table中的索引位置i。</p>
<ul>
<li>如果此索引位置i的数组上没有元素，则（key1,value1)添加成功  —&gt;情况1</li>
<li>如果此缩影位置i的数组上有元素（key2,value2),则需要继续比较key1和key2的哈希值2  —&gt;哈希冲突<ul>
<li>如果key1的哈希值2与key2的哈希值2不相同，则(key1,value1)添加成功。  —-&gt;情况2</li>
<li>如果key1的哈希值2与key2的哈哈希值2相同，则需要继续比较key1和key2的equals()。要调用key1所在类的equals(),将key2作为参数传递进去<ul>
<li>调用equals()，返回false:则（key1,value1)添加成功  —-&gt;情况3</li>
<li>调用equals(),返回true:则认为key1和key2是相同的。默认情况下，value1替换原有的value2.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>说明</strong>：</p>
<ul>
<li>情况1：将（key1, value1)存放到数组的索引i的位置</li>
<li>情况2，情况3：（key1,value1)元素与现有的（key2, value2)构成单向链表结构，（key1,value1)指向（key2,value2)</li>
</ul>
<p>随着不断的添加元素，在满足如下的条件的情况下，会考虑扩容：</p>
<p>（size&gt;&#x3D; threshold) &amp;&amp;(null !&#x3D;table[i])</p>
<p>当元素的个数达到临界值（-&gt;数组的长度* 加载因子）时，就考虑扩容。 默认的临界值 &#x3D; 16*0.75 –》12.</p>
<p>默认扩容为原来的两倍</p>
<p><strong>jdk8与jdk7的不同之处</strong></p>
<ol>
<li>在jdk8中，当我面创建了HashMap实例以后，底层并没有初始化table数组。当首次添加(key,value)时，进行判断，如果发现table尚未初始化，则对数组进行初始化。</li>
<li>在jdk8中，HashMap底层定义类Node内部类，替换了jdk7中的Entry内部类。意味着，我们创建的数组是Node[]</li>
<li>jdk8中，当前的(key,value)经过一系列判断之后，可以添加到当前的数组的角标i中。如果此时角标i位置上有元素。在jdk7中是将新的（key,value)指向已有的旧的元素（头插法）。而在jdk8中旧的元素指向新的（key,value)元素（尾插法）</li>
<li>jdk7：数组+单向链表；jdk8:数组+单向链表+红黑树。</li>
</ol>
<p>​		什么时候会使用红黑树：如果数组索引i位置上的元素的个数达到8，并且数组的长度达到64时，我们就将此索引i位置上的多个元素改为使用红黑树的结构进行存储。 （为什么修改呢？红黑树进行put()&#x2F;get()&#x2F;remove()，操作的时间复杂度为O（logn),比单向链表的时间复杂度O(n)的好。性能高。</p>
<p>​		什么时候会使用红黑树变为单向链表：当使用红黑树的索引i位置上的元素的个数小于6时，就会将红黑树退化为单向链表。</p>
<h2 id="LinkedHashMap"><a href="#LinkedHashMap" class="headerlink" title="LinkedHashMap"></a>LinkedHashMap</h2><p>LinkedHashMap是HashMap的子类</p>
<p>使用的数组+单向链表+红黑树的基础上，又增加了一对双向链表，记录添加的（key,value)的先后顺序。便于我们遍历所有的key-value。</p>
<p>重写了增加方法。</p>
<h2 id="HashSet和LinkedHashSet源码分析"><a href="#HashSet和LinkedHashSet源码分析" class="headerlink" title="HashSet和LinkedHashSet源码分析"></a>HashSet和LinkedHashSet源码分析</h2><ul>
<li>HashSet底层使用HashMap</li>
<li>LinkedHashSet使用的是LinkedHashMap</li>
</ul>
<h1 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h1><h2 id="链表和数组的区别？"><a href="#链表和数组的区别？" class="headerlink" title="链表和数组的区别？"></a>链表和数组的区别？</h2><h2 id="栈是如何运行的？"><a href="#栈是如何运行的？" class="headerlink" title="栈是如何运行的？"></a>栈是如何运行的？</h2><h2 id="ArraList的默认大小是多少，以及扩容机制"><a href="#ArraList的默认大小是多少，以及扩容机制" class="headerlink" title="ArraList的默认大小是多少，以及扩容机制"></a>ArraList的默认大小是多少，以及扩容机制</h2><h2 id="ArraList的底层是怎么实现的"><a href="#ArraList的底层是怎么实现的" class="headerlink" title="ArraList的底层是怎么实现的"></a>ArraList的底层是怎么实现的</h2><h2 id="数组和ArrayList的区别"><a href="#数组和ArrayList的区别" class="headerlink" title="数组和ArrayList的区别"></a>数组和ArrayList的区别</h2><p>ArrayList看作是对数组的常见操作的封装</p>
<h2 id="什么是线程安全的List"><a href="#什么是线程安全的List" class="headerlink" title="什么是线程安全的List"></a>什么是线程安全的List</h2><h2 id="HashMap初始值16，临界值12是怎么算的"><a href="#HashMap初始值16，临界值12是怎么算的" class="headerlink" title="HashMap初始值16，临界值12是怎么算的"></a>HashMap初始值16，临界值12是怎么算的</h2><h2 id="HashMap长度为什么是2的幂"><a href="#HashMap长度为什么是2的幂" class="headerlink" title="HashMap长度为什么是2的幂"></a>HashMap长度为什么是2的幂</h2><p>为了方便计算要添加的元素的底层的索引i</p>
<h2 id="HashMap怎么计算哈是在和索引？扩容机制？解决Hash冲突"><a href="#HashMap怎么计算哈是在和索引？扩容机制？解决Hash冲突" class="headerlink" title="HashMap怎么计算哈是在和索引？扩容机制？解决Hash冲突"></a>HashMap怎么计算哈是在和索引？扩容机制？解决Hash冲突</h2><h2 id="HashMap底层为什么加链表？"><a href="#HashMap底层为什么加链表？" class="headerlink" title="HashMap底层为什么加链表？"></a>HashMap底层为什么加链表？</h2><p>因为有哈斯冲突。解决方案，使用链表的方式。保证要添加的元素仍然在索引i的位置上</p>
<h2 id="HashMap为什么长度达到一定的长度要转化为红黑树？"><a href="#HashMap为什么长度达到一定的长度要转化为红黑树？" class="headerlink" title="HashMap为什么长度达到一定的长度要转化为红黑树？"></a>HashMap为什么长度达到一定的长度要转化为红黑树？</h2><h2 id="HashMap的get-原理？"><a href="#HashMap的get-原理？" class="headerlink" title="HashMap的get()原理？"></a>HashMap的get()原理？</h2><h2 id="hashCode-与equals-生产算法，方法怎么重写？"><a href="#hashCode-与equals-生产算法，方法怎么重写？" class="headerlink" title="hashCode()与equals()生产算法，方法怎么重写？"></a>hashCode()与equals()生产算法，方法怎么重写？</h2><p>进行equals()判断使用的属性，通常也都会参与到hashCode()的计算中。尽量保证hashCode()的一致性。</p>
<h2 id="equals与-的区别，equals相等hash值一定相等吗？hash值相等equals一定相等吗？"><a href="#equals与-的区别，equals相等hash值一定相等吗？hash值相等equals一定相等吗？" class="headerlink" title="equals与&#x3D;&#x3D;的区别，equals相等hash值一定相等吗？hash值相等equals一定相等吗？"></a>equals与&#x3D;&#x3D;的区别，equals相等hash值一定相等吗？hash值相等equals一定相等吗？</h2>
      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aluggnb.com/2023/10/09/javaday11_generics/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Alugg">
      <meta itemprop="description" content="Step out of your comfort zone">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alugg's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/09/javaday11_generics/" class="post-title-link" itemprop="url">java-Day11——泛型</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-09 22:18:01" itemprop="dateCreated datePublished" datetime="2023-10-09T22:18:01+08:00">2023-10-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.6k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="泛型的引入"><a href="#泛型的引入" class="headerlink" title="泛型的引入"></a>泛型的引入</h1><p>所谓泛型，就是允许在定义类、接口时通过一个<strong>标识</strong>来表示类中<strong>某个属性的类型</strong>或者是某个方法的<strong>返回值或参数的类型</strong>。这个类型参数将在使用时（例如，继承或实现这个接口、创建对象或调用方法时）确定（即传入实际的类型参数，也称为类型实参）</p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p><strong>在集合使用泛型前可能存在的问题</strong></p>
<p>问题1：类型不安全。因为add()的参数是Object类型，意味着任何类型的对象都可以添加成功</p>
<p>问题2：需要使用强转操作，繁琐。还有可能导致ClassCastException异常</p>
<h1 id="泛型的使用"><a href="#泛型的使用" class="headerlink" title="泛型的使用"></a>泛型的使用</h1><p><strong>使用说明</strong></p>
<ul>
<li>集合框架在生命接口和实现类时使用泛型，在实例化集合对象时，如果没有使用泛型，则认为操作的是Object类型的数据。如果使用了泛型，则需要指明泛型的具体类型。一旦指明了泛型的具体类型，则阿紫集合的相关的方法中，凡是使用泛型的位置，都替换为具体的泛型类型。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">        list.add(<span class="number">78</span>);</span><br><span class="line">        list.add(<span class="number">254</span>);</span><br><span class="line">        list.add(<span class="number">54</span>);</span><br><span class="line">        list.add(<span class="number">99</span>);</span><br><span class="line">        <span class="comment">//编译报错，保证类型安全</span></span><br><span class="line">        <span class="comment">// list.add(&quot;AA&quot;);</span></span><br><span class="line">        Iterator&lt;Integer&gt; iterator = list.iterator();</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">            <span class="comment">//因为添加的都是Integer类型，避免了强转操作</span></span><br><span class="line">            <span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            <span class="type">int</span> <span class="variable">score</span> <span class="operator">=</span> i;</span><br><span class="line">            System.out.println(score);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//在map中的使用</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        HashMap&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();<span class="comment">//类型推断</span></span><br><span class="line">        map.put(<span class="string">&quot;Tom&quot;</span>, <span class="number">12</span>);</span><br><span class="line">        map.put(<span class="string">&quot;jack&quot;</span>,<span class="number">23</span>);</span><br><span class="line">        map.put(<span class="string">&quot;hh&quot;</span>, <span class="number">24</span>);</span><br><span class="line"></span><br><span class="line">        Set&lt;Map.Entry&lt;String, Integer&gt;&gt; entreSet = map.entrySet();</span><br><span class="line">        Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; iterator = entreSet.iterator();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            Map.Entry&lt;String, Integer&gt; entry = iterator.next();</span><br><span class="line">            <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> entry.getKey();</span><br><span class="line">            <span class="type">Integer</span> <span class="variable">value</span> <span class="operator">=</span> entry.getValue();</span><br><span class="line">            System.out.println(key+<span class="string">&quot;--&gt;&quot;</span>+value);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="自定义泛型"><a href="#自定义泛型" class="headerlink" title="自定义泛型"></a>自定义泛型</h1><h2 id="自定义泛型类-接口"><a href="#自定义泛型类-接口" class="headerlink" title="自定义泛型类\接口"></a>自定义泛型类\接口</h2><p><strong>格式</strong></p>
<p>class A<T>{</p>
<p>}</p>
<p>interface B&lt;T1,T2&gt;{</p>
<p>}</p>
<p><strong>使用说明：</strong></p>
<ol>
<li>声明完自定义泛型类以后，可以在类的内部（比如属性、方法、构造器中）使用类的泛型</li>
<li>创建自定义泛型类的对象时，可以指明泛型参数类型。一旦指明，内部凡是所使用类的泛型参数的位置，都具体化为指定的类的泛型类型。</li>
<li>创建自定义泛型类的对象时，没有指明泛型参数类型，那么泛型将被擦除，泛型对应的类型均安装Object处理，但不等于Object。经验：泛型要用使用一路都用，要不用，一路都不用。</li>
<li>泛型的指定中必须使用引用数据类型。不能使用基本数据类型，此时只能使用包装类替换。</li>
<li>除创建泛型类对象外，子类继承泛型类时、实现类实现泛型接口时，也可以确定泛型结构中的泛型参数。</li>
</ol>
<p>如果我们在给泛型类提供子类时，子类也不确定泛型的类型，则可以继续使用泛型参数。</p>
<p>我们还可以再现有的父类的泛型参数的基础上，新增泛型参数</p>
<p><strong>注意：</strong></p>
<ol>
<li><p>泛型类可能有多个参数，此时应将多个参数一起放在尖括号内。比如&lt;E1,E2,E3&gt;</p>
</li>
<li><p>JDK7开始，泛型的简化操作：ArrayList<Fruit> flist &#x3D; new ArrayList&lt;&gt;();</p>
</li>
<li><p>如果泛型结构是一个接口或抽象类，则不可以创建泛型类的对象</p>
</li>
<li><p>不能使用new E()。但是可以，E[] elements &#x3D; (E[])new Object[capacity];</p>
</li>
<li><p>在类&#x2F;接口上声明的泛型，在本类或本接口中即代表某种类型，但不可以在静态方法中使用类的泛型。</p>
</li>
<li><p>异常类不可以带泛型。</p>
</li>
</ol>
<h2 id="自定义泛型方法"><a href="#自定义泛型方法" class="headerlink" title="自定义泛型方法"></a>自定义泛型方法</h2><p><strong>格式</strong>：</p>
<p>权限修饰符 <T> 返回值类型 方法名（形参列表）{</p>
<p>}</p>
<p><strong>举例</strong></p>
<p>public <E> E method(E e){</p>
<p>}</p>
<p><strong>说明</strong></p>
<ul>
<li>声明泛型方法时，一定要添加泛型参数<T></li>
<li>泛型参数在方法调用时，指明其具体的类型</li>
<li>泛型方法可以根据需要声明为static</li>
<li>泛型方法所属的类是否是一个泛型类，都可以。</li>
</ul>
<h1 id="泛型在继承上的体现"><a href="#泛型在继承上的体现" class="headerlink" title="泛型在继承上的体现"></a>泛型在继承上的体现</h1><p>1.类SuperA是类A的父类，则G<superA>与G<A>的关系？</p>
<p>二者是并列的两个类，没有任何子父类的关系</p>
<p>2.类SuperA是类A的父类或接口，superA<G>与A<G>的关系？</p>
<p>superA<G>与A<G>有继承或实现的关系。即A<G>的实例可以赋值给SuperA<G>类型的引用或变量。</p>
<h1 id="通配符"><a href="#通配符" class="headerlink" title="通配符"></a>通配符</h1><h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><p>ArrayList&lt;?&gt;</p>
<p>G<?> 可以看作是G<A>类型的父类，即可以将G<A>的对象赋值给G<?>类型的引用或变量</p>
<h2 id="读写特点"><a href="#读写特点" class="headerlink" title="读写特点"></a>读写特点</h2><ul>
<li>读取数据：允许的，读取的值为Object类型</li>
<li>写入数据：不允许。特例,null</li>
</ul>
<h2 id="有限制条件的通配符"><a href="#有限制条件的通配符" class="headerlink" title="有限制条件的通配符"></a>有限制条件的通配符</h2><p>List&lt;? extends A&gt;:可以将List<A>或List<B>赋值给List&lt;? extends A&gt;其中B类是A类的子类</p>
<p>List&lt;? super A&gt;：可以将List<A>或List<B>赋值给List&lt;? super A&gt;其中B类是A类的父类</p>
<h1 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h1><h2 id="Java的泛型是什么？有什么好处和优点？JDK不同版本的泛型有什么区别？"><a href="#Java的泛型是什么？有什么好处和优点？JDK不同版本的泛型有什么区别？" class="headerlink" title="Java的泛型是什么？有什么好处和优点？JDK不同版本的泛型有什么区别？"></a>Java的泛型是什么？有什么好处和优点？JDK不同版本的泛型有什么区别？</h2><p>泛型，是程序中出现的不确定的类型。</p>
<p>以集合来举例：把一个集合中的内容限制为一个特定的数据类型，这就是generic背后的核心思想。</p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aluggnb.com/2023/10/08/javaday10_collection_map/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Alugg">
      <meta itemprop="description" content="Step out of your comfort zone">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alugg's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/08/javaday10_collection_map/" class="post-title-link" itemprop="url">java-Day10——集合</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-08 21:25:05" itemprop="dateCreated datePublished" datetime="2023-10-08T21:25:05+08:00">2023-10-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>12k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>11 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h1><h2 id="数组存储的特点"><a href="#数组存储的特点" class="headerlink" title="数组存储的特点"></a>数组存储的特点</h2><ul>
<li><p>数组一旦初始化，长度就确定了</p>
</li>
<li><p>数组中的多个元素是依次紧密排列的，有序的，可重复的。</p>
</li>
<li><p>数组一旦初始化完成，其元素的类型就是确定的。不是此类型的，就不能添加到此数组中</p>
</li>
<li><p>元素的类型可以是基本数据类型，也可以是引用数据类型</p>
</li>
</ul>
<p><strong>反向来看</strong>：</p>
<ul>
<li>一旦初始化，长度就不可变了</li>
<li>数组中存储元素特点的单一性。对于无须、不可重复的场景的多个数据就无能为力了</li>
<li>数组中可用的方法、属性都很少。具体需要都需要自己来组织相关代码逻辑</li>
<li>对于数组中元素的删除、插入操作，性能较差。</li>
</ul>
<h2 id="Java集合框架体系"><a href="#Java集合框架体系" class="headerlink" title="Java集合框架体系"></a>Java集合框架体系</h2><p>1.<strong>java.util.Collection</strong>:存储一个个的数据</p>
<ul>
<li>子接口：<strong>List：</strong>存储有序的、可重复的数据<ul>
<li>**ArrayList(主要)**、LinkedList、Vector</li>
</ul>
</li>
<li>子接口：**Set:**存储无序的、不可重复的接口<ul>
<li>**HashSet(主要)**、LinkedHashSet、TreeSet</li>
</ul>
</li>
</ul>
<p>2**.java.util.Map:**存储一对一对的数据</p>
<ul>
<li>**HashMap(主要)**、LinkedHashmap、TreeMap、Hashtable、Properties</li>
</ul>
<h1 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h1><h2 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a><strong>常用方法</strong></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//add</span></span><br><span class="line">    <span class="type">Collection</span> <span class="variable">coll</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">    coll.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">    coll.add(<span class="number">123</span>);<span class="comment">//自动装箱</span></span><br><span class="line">    coll.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">    System.out.println(coll);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//addAll()</span></span><br><span class="line">    <span class="type">Collection</span> <span class="variable">coll1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">    coll1.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">    coll1.add(<span class="string">&quot;fff&quot;</span>);</span><br><span class="line">    <span class="comment">//size()</span></span><br><span class="line">    System.out.println(coll.size());</span><br><span class="line">    coll.addAll(coll1);</span><br><span class="line">    System.out.println(coll);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//isEmpty()</span></span><br><span class="line">    System.out.println(coll.isEmpty());</span><br><span class="line">    <span class="comment">//contains(Object obj)</span></span><br><span class="line">    System.out.println(coll.contains(<span class="string">&quot;aaa&quot;</span>));</span><br><span class="line">    <span class="comment">//containsAll(Collection coll)</span></span><br><span class="line">    <span class="type">Collection</span> <span class="variable">coll3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">    coll3.add(<span class="string">&quot;xx&quot;</span>);</span><br><span class="line">    coll3.add(<span class="string">&quot;haha&quot;</span>);</span><br><span class="line">    System.out.println(coll.containsAll(coll3));</span><br><span class="line">    <span class="comment">// clear 清空集合元素</span></span><br><span class="line">    <span class="comment">//remove(Object):从集合中删除第一个找到的与obj对象equals返回true的元素</span></span><br><span class="line">    <span class="comment">//removeAll(Collection coll):从当前集合中删除所有与coll集合中相同的元素.即this</span></span><br><span class="line">    <span class="comment">//retainAll)Collection coll):当当前集合中删除两个集合中不同的元素</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//集合 --》数组</span></span><br><span class="line">    Object[] arr = coll.toArray();</span><br><span class="line">    System.out.println(Arrays.toString(arr));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//数组--》集合</span></span><br><span class="line">    String[] arr2 = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;aa&quot;</span>,<span class="string">&quot;bb&quot;</span>&#125;;</span><br><span class="line">    <span class="type">Collection</span> <span class="variable">list</span> <span class="operator">=</span> Arrays.asList(arr2);</span><br><span class="line">    System.out.println(list);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>添加元素的要求：</strong></p>
<p>要求元素所属的类一定要重写equals()</p>
<h2 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Collection</span> <span class="variable">coll</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">    coll.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">    coll.add(<span class="number">123</span>);</span><br><span class="line">    coll.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//获取迭代器对象</span></span><br><span class="line">    <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> coll.iterator();</span><br><span class="line">    <span class="comment">//实现遍历方式1：</span></span><br><span class="line">    System.out.println(iterator.next());</span><br><span class="line">    System.out.println(iterator.next());</span><br><span class="line">    System.out.println(iterator.next());</span><br><span class="line">    <span class="comment">//实现遍历方式2：</span></span><br><span class="line">    <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">        System.out.println(iterator.next());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="foreach循环"><a href="#foreach循环" class="headerlink" title="foreach循环"></a>foreach循环</h2><p><strong>格式：</strong></p>
<p>for(要遍历的集合或数组元素的类型 临时变量： 要遍历的集合或数组变量){</p>
<p>​	操作临时变量的输出</p>
<p>}</p>
<p>针对于集合来讲，增强for循环的底层仍然使用的是迭代器</p>
<p>增强for循环的执行过程中，是将集合或数组中的元素一次赋值给临时变量，注意循环体中对临时变量的修改，可能不会导致原有集合或数组中元素的修改。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Collection</span> <span class="variable">coll</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">    coll.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">    coll.add(<span class="number">123</span>);</span><br><span class="line">    coll.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (Object obj : coll) &#123;</span><br><span class="line">        System.out.println(obj);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (Object i : arr) &#123;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="List-Collection"><a href="#List-Collection" class="headerlink" title="List(Collection)"></a>List(Collection)</h1><h2 id="常用方法-1"><a href="#常用方法-1" class="headerlink" title="常用方法"></a>常用方法</h2><p>1.collections中含有的15个方法</p>
<p>2.由于集合是有序的，进而就有与索引相关的一些方法</p>
<p>插入元素：</p>
<ul>
<li><p>void add(int index, Object ele)</p>
</li>
<li><p>boolean addAll(int index, Collection eles)</p>
</li>
</ul>
<p>获取元素</p>
<ul>
<li>Object get(int index):获取指定index位置的元素</li>
<li>List subList(int fromIndex, int toIndex)返回从fromIndex到toIndex的位置的子集合</li>
</ul>
<p>获取元素索引</p>
<ul>
<li>int indexOf(Object obj):返回obj在集合中首次出现的位置</li>
<li>int lastIndexOf(Object obj):返回Obj在当前集合中末次出现的位置</li>
</ul>
<p>删除和替换元素</p>
<ul>
<li>Object remove(int index):移除指定index位置的元素，并返回此元素</li>
<li>Object set(int index, Object ele):设置指定index位置的元素为ele</li>
</ul>
<p>小结：</p>
<p><strong>增</strong>：add(Object obj)   addAll(Collection coll)</p>
<p><strong>删</strong>: remove(Object obj)  remove(int index)</p>
<p><strong>改</strong>:set(int index, Object ele)</p>
<p><strong>查</strong>:get(int index)</p>
<p><strong>插</strong>:add(int index, Object ele)  addAll(int index, Collection eles)</p>
<p><strong>长度</strong>： size()</p>
<p><strong>遍历</strong>：iterator(), foreach, for</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">    list.add(<span class="string">&quot;AA&quot;</span>);</span><br><span class="line">    list.add(<span class="number">123</span>);</span><br><span class="line">    list.add(<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">    System.out.println(list.toString());</span><br><span class="line"></span><br><span class="line">    list.add(<span class="number">2</span>,<span class="string">&quot;Cc&quot;</span>);</span><br><span class="line">    <span class="type">List</span> <span class="variable">list1</span> <span class="operator">=</span> Arrays.asList(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// list.add(1,list1); //将list1看作一个整体加入list</span></span><br><span class="line">    list.addAll(<span class="number">1</span>,list1);</span><br><span class="line">    System.out.println(list);</span><br><span class="line"></span><br><span class="line">    list.remove(<span class="number">2</span>);<span class="comment">//删除索引为2的元素</span></span><br><span class="line">    list.remove(Integer.valueOf(<span class="number">2</span>));<span class="comment">//删除数据为2</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="实现类及其特点"><a href="#实现类及其特点" class="headerlink" title="实现类及其特点"></a>实现类及其特点</h2><p>ArrayList: List的主要实现类：线程不安全、效率高；底层使用Object[]数组存储。添加、查询数据时效率高；插入、删除时，效率较低</p>
<p>LinkedList: 底层使用双向链表进行存储。在对集合中的数据频繁进行删除和插入时建议使用此类。插入、删除时，效率高，添加、查询数据时效率低。</p>
<p>Vector：List的古老实现类：线程安全、效率低；底层使用Object存储数据</p>
<h1 id="Set-Collection"><a href="#Set-Collection" class="headerlink" title="Set(Collection)"></a>Set(Collection)</h1><h2 id="无序性、不可重复性的理解"><a href="#无序性、不可重复性的理解" class="headerlink" title="无序性、不可重复性的理解"></a>无序性、不可重复性的理解</h2><p><strong>无序性</strong>： 不是随机性。也不是添加元素的顺序和遍历元素的顺序的不一致。而是与添加元素位置有关，不像ArrayList一样是依次紧密排列的，而是根据添加元素的哈希值，计算的其在数组中存储的位置。此位置不是依次排列的，表现为无序性</p>
<p><strong>不可重复性</strong>：添加到Set中的元素是不能相同的。比较的标准，需要判断hashCode()得到的哈希值与equals（）得到的结果。</p>
<h2 id="常用方法："><a href="#常用方法：" class="headerlink" title="常用方法："></a>常用方法：</h2><p>即为Collection中声明的15个抽象方法。没有新增的方法</p>
<h2 id="开发场景"><a href="#开发场景" class="headerlink" title="开发场景"></a>开发场景</h2><p>较List、Map来说，set使用的频率较少</p>
<h2 id="实现类："><a href="#实现类：" class="headerlink" title="实现类："></a>实现类：</h2><p>**HashSet:**主要实现类；底层使用HashMap,即使用数组+单向链表+红黑树结构进行存储</p>
<p>​		<strong>LinkedHashSet:</strong> 是HashSet的子类。在现有数组+单向链表+红黑结构基础上，又添加了一组双向链表，用于记录添加元素的先后顺序。即：我们可以按照添加元素的顺序实现遍历。便于频繁的查询操作。</p>
<p><strong>TreeSet</strong>:底层使用红黑树存储。可以按照添加的元素的指定的属性的大小顺序进行遍历</p>
<h2 id="添加到HashSet-LinkedHashSet中元素的要求："><a href="#添加到HashSet-LinkedHashSet中元素的要求：" class="headerlink" title="添加到HashSet&#x2F;LinkedHashSet中元素的要求："></a>添加到HashSet&#x2F;LinkedHashSet中元素的要求：</h2><p><strong>要求元素所在的类要重写两个方法：equals()和hashCode().</strong></p>
<p>同时要求equals()和hashCode()要保持一致性</p>
<h2 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h2><p><strong>向TreeSet中添加元素的要求</strong></p>
<p>添加到TreeSet中的元素必须是同一个类型的对象，否则会报ClassCastException.</p>
<p><strong>判断数据是否相同的标准：</strong></p>
<ul>
<li><p>不再是考虑hashCode()和equals()方法了，也就意味着添加到TreeSet中的元素不再需要重新hashcode和equals()</p>
</li>
<li><p>比较元素大小的或比较元素是否相等的标准就是考虑自然排序或定制排序中compareTo()或compare()的返回值。如果compareTo()或compare()的返回值为0，则认为两个对象是相等的。由于TreeSet中不能存放相同的元素，则后一个相等的元素就不能添加到TreeSet中。</p>
</li>
</ul>
<h1 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h1><h2 id="实现类及对比"><a href="#实现类及对比" class="headerlink" title="实现类及对比"></a>实现类及对比</h2><ul>
<li>HashMap:主要实现类;线程不安全，效率高；可以添加null的key和value的值;底层使用数组+单向链表+红黑树结构存储<ul>
<li>LinkedHashMap：是HashMap的子类，在HashMap使用的结构基础上，增加了一对双向链表，用于记录添加的元素的先后顺序。遍历的时候可以按照添加的顺序显示。开发中，对于频繁的遍历操作，建议使用此类。</li>
</ul>
</li>
<li>Hashtable：古老实现类;线程安全，效率低；不可以添加null的key和value值;底层使用数组+单向链表结构存储</li>
<li>TreeMap：底层使用红黑树存储；可以安装添加的key-value中key元素的指定的属性的大小顺序进行遍历。需要考虑1.自然排序 2.定制排序<ul>
<li>Properties：其key和value都是String类型。常用来处理属性文件。</li>
</ul>
</li>
</ul>
<h2 id="HashMap中元素的特点"><a href="#HashMap中元素的特点" class="headerlink" title="HashMap中元素的特点"></a>HashMap中元素的特点</h2><ul>
<li>HashMap中的所有的key彼此之间是不可以重复的、无序的。所有的key就构成了一个<strong>Set</strong>集合。 &#x3D;&#x3D;》<strong>key</strong>所在的类要重写<strong>hashCode()<strong>和</strong>equals()</strong></li>
<li>HashMap中的所有的value彼此之间是可重复的、无序的。所有的value就构成一个<strong>Collection</strong>集合。&#x3D;&#x3D;》<strong>value</strong>所在的类要<strong>重写equals()</strong></li>
<li>HashMap中的一个key-value就构成了一个Entry。</li>
<li>HashMap中所有的entry彼此之间是不可重复的、无序的。所有的entry就构成了一个set集合。</li>
</ul>
<h2 id="常用方法-2"><a href="#常用方法-2" class="headerlink" title="常用方法"></a>常用方法</h2><p>添加、修改操作：</p>
<p>​	Object put(Object key, Object value):将指定key-value添加到当前map对象中</p>
<p>​	void putAll(Map m):将m中所有key-value对存放到当前map中</p>
<p>删除</p>
<p>​	Object remove(Object key) 移除指定key的key-value对，并返回value</p>
<p>​	void clear():清空当前map中所有的数据</p>
<p>元素查询</p>
<p>​	Object get(object key)获取指定key对应value</p>
<p>​	boolean containKey(Object key)是否包含指定的key</p>
<p>​	boolean containsValue(Object value):是否包含指定的value</p>
<p>​	int size():返回map中key-value对的个数</p>
<p>​	boolean isEmpty():判断当前map是否为空</p>
<p>​	boolean equals(Object obj):判断当前map和参数对象是否相等</p>
<p>元视图操作的方法</p>
<ul>
<li>Set keySet() 返回所有key构成的Set集合</li>
<li>Collection values():返回所有value构成的Collection集合</li>
<li>Set entrySet():返回所有key-value对构成的Set集合</li>
</ul>
<p><strong>小结：</strong></p>
<p>增：put(Object key, Object value), putAll(Map m)</p>
<p>删：Object remove(Object key)</p>
<p>改：put(Object key, Object value), putAll(Map m)</p>
<p>查：Object get(Object key)</p>
<p>长度：size()</p>
<p>遍历：</p>
<p>​	遍历key集： Set keySet()</p>
<p>​	遍历value集: Collection values()</p>
<p>​	遍历entry集：Set entrySet()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//put(Object key, Object value)</span></span><br><span class="line">        <span class="type">HashMap</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">        map.put(<span class="string">&quot;AA&quot;</span>, <span class="number">56</span>);</span><br><span class="line">        map.put(<span class="number">65</span>,<span class="string">&quot;TOM&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;BB&quot;</span>, <span class="number">78</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//size()</span></span><br><span class="line">        System.out.println(map.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Object remove(Object key)</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> map.remove(<span class="string">&quot;AA&quot;</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//修改:put</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">oldValue</span> <span class="operator">=</span> map.put(<span class="string">&quot;BB&quot;</span>,<span class="number">99</span>);</span><br><span class="line">        System.out.println(oldValue);</span><br><span class="line">        System.out.println(map);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//get</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">value1</span> <span class="operator">=</span> map.get(<span class="string">&quot;BB&quot;</span>);</span><br><span class="line">        System.out.println(value1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//遍历key集</span></span><br><span class="line">        <span class="type">Set</span> <span class="variable">keySet</span> <span class="operator">=</span> map.keySet();</span><br><span class="line">        <span class="comment">//使用迭代器</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> keySet.iterator();</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">key</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.println(key);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//遍历Value集：</span></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">values</span> <span class="operator">=</span> map.values();</span><br><span class="line">        <span class="comment">//方式1：for-each</span></span><br><span class="line">        <span class="keyword">for</span>(Object obj: values)&#123;</span><br><span class="line">            System.out.println(obj);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//方式2：</span></span><br><span class="line">        <span class="type">Set</span> <span class="variable">keySet1</span> <span class="operator">=</span> map.keySet();</span><br><span class="line">        <span class="keyword">for</span>(Object key:keySet1)&#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">value2</span> <span class="operator">=</span> map.get(key);</span><br><span class="line">            System.out.println(value2);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//方式1：遍历entry集</span></span><br><span class="line">        <span class="type">Set</span> <span class="variable">entryset</span> <span class="operator">=</span> map.entrySet();</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator2</span> <span class="operator">=</span> entryset.iterator();</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">            <span class="comment">//方法1</span></span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">            <span class="comment">//方法2</span></span><br><span class="line">            Map.<span class="type">Entry</span> <span class="variable">entry</span> <span class="operator">=</span> (Map.Entry) iterator2.next();</span><br><span class="line">            System.out.println(entry.getKey()+<span class="string">&quot;--&gt;&quot;</span>+entry.getValue());</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//方式2：遍历entry集</span></span><br><span class="line">        <span class="type">Set</span> <span class="variable">keySet2</span> <span class="operator">=</span> map.keySet();</span><br><span class="line">        <span class="keyword">for</span> (Object key:keySet2)&#123;</span><br><span class="line">            System.out.println(key+ <span class="string">&quot;---&gt;&quot;</span>+map.get(key));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="TreeMap的使用"><a href="#TreeMap的使用" class="headerlink" title="TreeMap的使用"></a>TreeMap的使用</h2><ul>
<li>底层使用红黑树存储</li>
<li>可以按照添加的key-value的key元素指定的属性大小顺序进行遍历</li>
<li>需要考虑1.自然排序 2.定制排序</li>
<li>要求向TreeMap中添加的key必须是同一个类型的对象</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeMapTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//自然排序</span></span><br><span class="line">        <span class="type">TreeMap</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeMap</span>();</span><br><span class="line">        map.put(<span class="string">&quot;CC&quot;</span>, <span class="number">89</span>);</span><br><span class="line">        map.put(<span class="string">&quot;BB&quot;</span>,<span class="number">78</span>);</span><br><span class="line">        map.put(<span class="string">&quot;jj&quot;</span>,<span class="keyword">new</span> <span class="title class_">Data</span>());</span><br><span class="line">        map.put(<span class="string">&quot;kk&quot;</span>,<span class="number">78</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Set</span> <span class="variable">entrySet</span> <span class="operator">=</span> map.entrySet();</span><br><span class="line">        <span class="keyword">for</span>(Object entry:entrySet)&#123;</span><br><span class="line">            System.out.println(entry);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">TreeMap</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeMap</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">User</span> <span class="variable">u1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Tom&quot;</span>, <span class="number">23</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">u2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jerry&quot;</span>,<span class="number">43</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">u3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Rose&quot;</span>,<span class="number">13</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">u4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jack&quot;</span>,<span class="number">23</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">u5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Tony&quot;</span>, <span class="number">33</span>);</span><br><span class="line"></span><br><span class="line">        map.put(u1,<span class="number">78</span>);</span><br><span class="line">        map.put(u2,<span class="number">76</span>);</span><br><span class="line">        map.put(u3,<span class="number">76</span>);</span><br><span class="line">        map.put(u4,<span class="number">77</span>);</span><br><span class="line">        map.put(u5,<span class="number">45</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Set</span> <span class="variable">entrySet</span> <span class="operator">=</span> map.entrySet();</span><br><span class="line">        <span class="keyword">for</span>(Object entry:entrySet)&#123;</span><br><span class="line">            System.out.println(entry);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//定制排序</span></span><br><span class="line">        <span class="type">Comparator</span> <span class="variable">comparator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(o1 <span class="keyword">instanceof</span> User &amp;&amp; o2 <span class="keyword">instanceof</span> User) &#123;</span><br><span class="line">                    <span class="type">User</span> <span class="variable">u1</span> <span class="operator">=</span> (User) o1;</span><br><span class="line">                    <span class="type">User</span> <span class="variable">u2</span> <span class="operator">=</span> (User) o2;</span><br><span class="line"></span><br><span class="line">                    <span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span> u1.getName().compareTo(u2.getName());</span><br><span class="line">                    <span class="keyword">if</span> (value != <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> value;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">return</span> u1.getAge() - u2.getAge();</span><br><span class="line">                &#125;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;类型不匹配&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="type">TreeMap</span> <span class="variable">map1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeMap</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//定义自然排序的规则</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span> == o)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(o <span class="keyword">instanceof</span> User)&#123;</span><br><span class="line">            <span class="type">User</span> <span class="variable">u</span> <span class="operator">=</span> (User) o;</span><br><span class="line">            <span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span> <span class="built_in">this</span>.age - u.age;</span><br><span class="line">            <span class="keyword">if</span>(value !=<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> value;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> -<span class="built_in">this</span>.name.compareTo(u.name);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;类型不匹配&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Properties的使用"><a href="#Properties的使用" class="headerlink" title="Properties的使用"></a>Properties的使用</h2><p>Properties是Hashtable的子类，其key和value都是String类型的，常用来处理属性文件。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PropertiesTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//将数据封装到具体的配置文件中，在程序中读取配置文件中的信息，实现了数据和代码的解耦</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;info.properties&quot;</span>);</span><br><span class="line">        System.out.println(file.getAbsolutePath());</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">        <span class="type">Properties</span> <span class="variable">pros</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        pros.load(fis);<span class="comment">//记载流中文件中的数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//读取数据</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> pros.getProperty(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> pros.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        System.out.println(name+<span class="string">&quot;xx&quot;</span>+pwd);</span><br><span class="line"></span><br><span class="line">        fis.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Collections"><a href="#Collections" class="headerlink" title="Collections"></a>Collections</h1><p>Collections是一个操作Set,List和Map等集合的工具类。</p>
<p>**Question:**Collection和Collections</p>
<p>Collection:集合框架中的用于存储一个一个元素的接口，又为List和Set等子接口</p>
<p>Collections：用于操作集合框架的一个工具类。此时集合框架包括:Set、List、Map</p>
<h2 id="常用方法-3"><a href="#常用方法-3" class="headerlink" title="常用方法"></a>常用方法</h2><p><strong>排序操作：</strong></p>
<ul>
<li><p>reverse(list):反转list中的元素</p>
</li>
<li><p>shuffle(list):对list集合元素进行随机排序</p>
</li>
<li><p>sort(list):根据元素的自然顺序对指定List集合元素按升序排序</p>
</li>
<li><p>sort(list.Comparator):根据指定的Comparator产生的顺序对List集合元素进行排序</p>
</li>
<li><p>swap(list.int int):将指定list集合中i处元素和j处元素进行交换</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> Arrays.asList(<span class="number">45</span>,<span class="number">34</span>,<span class="number">64</span>,<span class="number">23</span>,<span class="number">23</span>,<span class="number">12</span>,<span class="number">11</span>,<span class="number">24</span>,<span class="number">5</span>);</span><br><span class="line">    System.out.println(list);</span><br><span class="line">    <span class="comment">// Collections.reverse(list);</span></span><br><span class="line">    Collections.shuffle(list);</span><br><span class="line">    Collections.sort(list);</span><br><span class="line">    Collections.sort(list, <span class="keyword">new</span> <span class="title class_">Comparator</span>()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(o1 <span class="keyword">instanceof</span> Integer &amp;&amp; o2 <span class="keyword">instanceof</span> Integer)&#123;</span><br><span class="line">                <span class="type">Integer</span> <span class="variable">i1</span> <span class="operator">=</span> (Integer) o1;</span><br><span class="line">                <span class="type">Integer</span> <span class="variable">i2</span> <span class="operator">=</span> (Integer) o2;</span><br><span class="line">                <span class="keyword">return</span> -(i1- i2);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">throw</span>  <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;类型不匹配&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    System.out.println(list);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>查找：</strong></p>
<ul>
<li>Object max(Collection)：根据元素自然排序，返回集合中最大的元素</li>
<li>Object max(Collection.Comparator):根据Comparator指定的顺序，返回给定集合中最大元素</li>
<li>Object min(Collection):根据元素的自然顺序，返回给定集合中最小的元素</li>
<li>Object min(Collection Comparator)：根据Comparator指定的顺序，返回给定集合中最小元素</li>
<li>int binarySearch(List list, T key)在List集合中查找某个元素的小标。</li>
<li>int binarySearch(List list, T key，Comparator c)在List集合中查找某个元素的小标，</li>
<li>int frequency(Collection c, Object o):返回指定集合中指定元素出现的次数</li>
</ul>
<p><strong>复制：</strong></p>
<ul>
<li><p>void copy(List des List src):将src中的内容赋值到dest中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span> <span class="variable">src</span> <span class="operator">=</span> Arrays.asList(<span class="number">45</span>,<span class="number">34</span>,<span class="number">64</span>,<span class="number">23</span>,<span class="number">23</span>,<span class="number">12</span>,<span class="number">11</span>,<span class="number">24</span>,<span class="number">5</span>);</span><br><span class="line"><span class="type">List</span> <span class="variable">dest</span> <span class="operator">=</span> Arrays.asList(<span class="keyword">new</span> <span class="title class_">Object</span>[src.size()]);</span><br><span class="line">Collections.copy(dest,src);</span><br></pre></td></tr></table></figure>
</li>
<li><p>boolean replaceAll(List list, Object oldVal, Object newVal):使用新值替换List对象中所有旧值</p>
</li>
<li><p>boolean addAll(Collection c, T..elements)将所有制定元素添加到指定collection中</p>
</li>
<li><p>Collections类中提供了多个synchronizedXXX()方法，该方法可使将指定集合包装成线程同步的集合</p>
</li>
</ul>
<h1 id="常见问题："><a href="#常见问题：" class="headerlink" title="常见问题："></a>常见问题：</h1><h2 id="List-Set-Map是否为Collection的接口，三者的区别？"><a href="#List-Set-Map是否为Collection的接口，三者的区别？" class="headerlink" title="List,Set,Map是否为Collection的接口，三者的区别？"></a>List,Set,Map是否为Collection的接口，三者的区别？</h2><h2 id="list-map-set接口的实现类，并说出其特点"><a href="#list-map-set接口的实现类，并说出其特点" class="headerlink" title="list,map,set接口的实现类，并说出其特点"></a>list,map,set接口的实现类，并说出其特点</h2><h2 id="集合的父类是谁？哪些安全的？"><a href="#集合的父类是谁？哪些安全的？" class="headerlink" title="集合的父类是谁？哪些安全的？"></a>集合的父类是谁？哪些安全的？</h2><h2 id="遍历集合的方式有哪些？"><a href="#遍历集合的方式有哪些？" class="headerlink" title="遍历集合的方式有哪些？"></a>遍历集合的方式有哪些？</h2><p>迭代器iterator用来遍历Collection，不能用来遍历Map</p>
<p>增强for</p>
<h2 id="ArrayList与LinkedList区别？"><a href="#ArrayList与LinkedList区别？" class="headerlink" title="ArrayList与LinkedList区别？"></a>ArrayList与LinkedList区别？</h2><h2 id="Set里的元素是不能重复的，那用什么来区分重复与否，用equals（）"><a href="#Set里的元素是不能重复的，那用什么来区分重复与否，用equals（）" class="headerlink" title="Set里的元素是不能重复的，那用什么来区分重复与否，用equals（）"></a>Set里的元素是不能重复的，那用什么来区分重复与否，用equals（）</h2><p>hashCode()、equals（）</p>
<h2 id="TreeSet两种排序方式在使用的时候怎么起作用？"><a href="#TreeSet两种排序方式在使用的时候怎么起作用？" class="headerlink" title="TreeSet两种排序方式在使用的时候怎么起作用？"></a>TreeSet两种排序方式在使用的时候怎么起作用？</h2><p>在添加新的的元素时，需要调用compareTo或compare()</p>
<h2 id="TreeSet的数据结构"><a href="#TreeSet的数据结构" class="headerlink" title="TreeSet的数据结构"></a>TreeSet的数据结构</h2><p>红黑树</p>
<h2 id="final怎么用，修饰Map可以继续添加数据吗？"><a href="#final怎么用，修饰Map可以继续添加数据吗？" class="headerlink" title="final怎么用，修饰Map可以继续添加数据吗？"></a>final怎么用，修饰Map可以继续添加数据吗？</h2><h2 id="Set和Map的比较"><a href="#Set和Map的比较" class="headerlink" title="Set和Map的比较"></a>Set和Map的比较</h2><p>HashSet底层是HashMap</p>
<p>LinkedHashSet底层就是LinkedHashMap</p>
<p>TreeSet底层就是TreeMap</p>
<h2 id="HashMap线程安全吗？"><a href="#HashMap线程安全吗？" class="headerlink" title="HashMap线程安全吗？"></a>HashMap线程安全吗？</h2><p>不安全。</p>
<p>Hashtable是怎么实现爱你的，为什么安全？</p>
<p>数组+单向链表；底层方法使用synchronized修饰</p>
<h2 id="HashMap和TreeMap的区别"><a href="#HashMap和TreeMap的区别" class="headerlink" title="HashMap和TreeMap的区别"></a>HashMap和TreeMap的区别</h2><p>底层数据结果截然不同</p>
<h2 id="HashMap里面实践装的是什么？"><a href="#HashMap里面实践装的是什么？" class="headerlink" title="HashMap里面实践装的是什么？"></a>HashMap里面实践装的是什么？</h2><p>JDK7：HashMap内部声明了Entry,实现了Map中Entry接口(key,value作为Entry两个属性出现)</p>
<p>JDK8：HashMap内部声明了Node,实现了Map中Entry接口(key,value作为Entry两个属性出现)</p>
<h2 id="HashMap的key存储在哪里？"><a href="#HashMap的key存储在哪里？" class="headerlink" title="HashMap的key存储在哪里？"></a>HashMap的key存储在哪里？</h2><p>数组+链表+红黑树</p>
<h2 id="自定义类型可以作为Key吗？"><a href="#自定义类型可以作为Key吗？" class="headerlink" title="自定义类型可以作为Key吗？"></a>自定义类型可以作为Key吗？</h2><p>可以。要重写hashCode()和equals方法</p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aluggnb.com/2023/10/07/javaday9_api/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Alugg">
      <meta itemprop="description" content="Step out of your comfort zone">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alugg's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/07/javaday9_api/" class="post-title-link" itemprop="url">java-Day9——api</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-07 22:05:05" itemprop="dateCreated datePublished" datetime="2023-10-07T22:05:05+08:00">2023-10-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>8.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>8 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="String类"><a href="#String类" class="headerlink" title="String类"></a>String类</h1><h2 id="类的声明"><a href="#类的声明" class="headerlink" title="类的声明"></a>类的声明</h2><ul>
<li><p>final:String是不可以被继承</p>
</li>
<li><p>Serializable:可序列化的接口。凡是实现此接口类的独显就可以通过网络或本地流进行数据的传输</p>
</li>
<li><p>Comparable:凡是实现此接口类，其对象都可以比较大小</p>
</li>
<li></li>
</ul>
<h2 id="内部声明的属性"><a href="#内部声明的属性" class="headerlink" title="内部声明的属性"></a>内部声明的属性</h2><p>jdk8:</p>
<p>private final char value[]:存储字符串数据的容器</p>
<p>​	final:指明此数组一旦初始化，其地址就不可变</p>
<p>jdk9节省内存空间</p>
<p>private final char value[]:存储字符串数据的容器</p>
<h2 id="字符串常量的存储位置"><a href="#字符串常量的存储位置" class="headerlink" title="字符串常量的存储位置"></a>字符串常量的存储位置</h2><ul>
<li><p>字符串常量都存储在字符串常量池（StringTable)中</p>
</li>
<li><p>字符串常量池不允许存放两个相同的字符串常量</p>
</li>
<li><p>字符串常量池，在不同的jdk版本中，存放位置不同</p>
<p>jdk7前：字符串常量池在方法区</p>
<p>jdk7之后：字符串常量池存放在堆空间</p>
</li>
</ul>
<h2 id="String不可变性的理解"><a href="#String不可变性的理解" class="headerlink" title="String不可变性的理解"></a>String不可变性的理解</h2><ol>
<li>当对字符串重新赋值时，需要重新制定一个字符串常量的位置进行赋值，不能在原有的位置修改</li>
<li>当对现有的字符串进行拼接操作时，需要重新开辟空间保存拼接以后的字符串，不能在原有的位置修改</li>
<li>当调用字符串的replace()替换现有的某个字符时，需要重新开辟空间保存修改以后的字符串，不能在原有的位置修改</li>
</ol>
<h2 id="String实例化的两种方式"><a href="#String实例化的两种方式" class="headerlink" title="String实例化的两种方式"></a>String实例化的两种方式</h2><p>String s1 &#x3D; “hello”;</p>
<p>String s2 &#x3D; new String(“hello”);</p>
<p><strong>Question</strong>:</p>
<p>String s2 &#x3D; new String(“hello”)  在内存中创建了几个对象？</p>
<p>两个。一个在堆空间中new的对象。另一个是在字符串常量池中生成的字面量。</p>
<h2 id="String连接操作"><a href="#String连接操作" class="headerlink" title="String连接操作"></a>String连接操作</h2><p>Case1：常量+常量：结果仍存储在字符串常量池中.此时的常量可能是字面量，可能是final修饰的常量。</p>
<p>Case2: 常量+变量 或变量+变量：都会通过new的方式创建一个新的字符串，返回堆空间此字符串对象的地址</p>
<p>Case3:调用字符串的intern():返回的是字符串常量池中字面量的地址</p>
<p>Concat（）：不管常量调用此方法，还是变量调用，同样不管参数是常量还是变量，总之。调用完concat()方法都返回一个新new的对象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringDemo</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        p1.name = <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line">        p2.name = <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;world&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="string">&quot;helloworld&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span> +<span class="string">&quot;world&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s5</span> <span class="operator">=</span> s1 +<span class="string">&quot;world&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s6</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span> + s2;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s7</span> <span class="operator">=</span> s1 +s2;</span><br><span class="line"></span><br><span class="line">        System.out.println(s3 == s4); <span class="comment">//true</span></span><br><span class="line">        System.out.println(s3 == s5); <span class="comment">//false</span></span><br><span class="line">        System.out.println(s3 == s6); <span class="comment">//false</span></span><br><span class="line">        System.out.println(s3 == s7); <span class="comment">//false</span></span><br><span class="line">        System.out.println(s5 == s6); <span class="comment">//false</span></span><br><span class="line">        System.out.println(s5 == s7); <span class="comment">//false</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">String</span> <span class="variable">s8</span> <span class="operator">=</span> s5.intern() <span class="comment">//返回的是字符串常量池中字面量的地址</span></span><br><span class="line">        System.out.println(s3 == s8); <span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s8</span> <span class="operator">=</span> s1.concat(s2);</span><br><span class="line"><span class="type">String</span> <span class="variable">s9</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>.concat(<span class="string">&quot;world&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">s10</span> <span class="operator">=</span> s1.concat(<span class="string">&quot;world&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(s8 == s9); <span class="comment">//false</span></span><br><span class="line">System.out.println(s8 == s10);<span class="comment">//false</span></span><br><span class="line">System.out.println(s9 == s10);<span class="comment">//false</span></span><br></pre></td></tr></table></figure>



<h2 id="构造器"><a href="#构造器" class="headerlink" title="构造器"></a>构造器</h2><p>public String(), 初始化新创建的String对象，以使其表示空字符序列</p>
<p>public String(String original) 初始化一个新创建的String对象，使其表示一个与参数相同的字符序列</p>
<p>public String(char[] value):通过当前参数中的字符数组来构造新的String</p>
<p>public String(byte[] bytes):通过使用平台的默认字符集解码当前参数中的字节数组来构造新String</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * utf8中，一个汉字3字节，一个字母1字节</span></span><br><span class="line"><span class="comment"> * gbk中，一个汉字2字节，一个字母1字节</span></span><br><span class="line"><span class="comment"> * 编码：String --&gt;字节或字节数组</span></span><br><span class="line"><span class="comment"> * 解码： 字节或字节数组 ---&gt; String</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// String与char[]之间的转换</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test5</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    <span class="comment">// String--&gt;char[]:调用String的toCharArray();</span></span><br><span class="line">    <span class="type">char</span>[] arr = str.toCharArray();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        System.out.println(arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//char[] --&gt;String:调用String的构造器</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(arr);</span><br><span class="line">    System.out.println(str1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// String与byte[]之间的转换</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test6</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    <span class="comment">//String --&gt;byte[]:调用String的getBytes()</span></span><br><span class="line">    <span class="type">byte</span>[] arr = str.getBytes();<span class="comment">//使用默认字符集utf-8</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        System.out.println(arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//byte[] --&gt; String</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(arr);</span><br><span class="line">    System.out.println(str1);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="String、StringBuffer、StringBuilder"><a href="#String、StringBuffer、StringBuilder" class="headerlink" title="String、StringBuffer、StringBuilder"></a>String、StringBuffer、StringBuilder</h2><ul>
<li>String:不可变字符序列.底层使用Byte[]</li>
<li>StringBuffer:可变字符序列；JDK1.0,线程安全，效率低。底层使用char[]</li>
<li>StringBuilder：可变的字符序列； JDK5.0,线程不安全，效率高,底层使用char[]</li>
</ul>
<p><strong>源码分析：</strong></p>
<p>String s1 &#x3D; new String();&#x2F;&#x2F;Char[] value &#x3D;new char[0];</p>
<p>String s2 &#x3D; new String(“abc”);&#x2F;&#x2F; char[] value &#x3D; new char[]{‘a’,’b’, ‘c’};</p>
<p>StringBuilder</p>
<p>内部属性：</p>
<p>​	char[] value &#x2F;&#x2F;存储字符序列</p>
<p>​	int count; &#x2F;&#x2F;实际存储的字符个数</p>
<p>StringBuilder sBuffer1 &#x3D; new StringBuilder(); &#x2F;&#x2F;char[] value &#x3D; new char[16];</p>
<p>StringBuilder sBuffer1 &#x3D; new StringBuilder(“abc”);&#x2F;&#x2F;char[] value &#x3D; new char[16+”abc”.length];</p>
<p>sBuffer1.append(‘ac’)</p>
<p>…不断的添加，一旦count要超过value.length时，就需要扩容：默认扩容为原有容量的2倍+2；并将原有Value数组中的元素复制到新的数组中。</p>
<p><strong>启示</strong></p>
<ul>
<li><p>如果开发中需要频繁的针对于字符串的增删改，建议使用StringBuffer或StringBuilder替换String因为使用String效率低</p>
</li>
<li><p>如果不涉及线程安全，则使用StringBuilder</p>
</li>
<li><p>如果大体确定操作的字符个数，建议使用带int capacity参数的构造器避免底层多次扩容。</p>
</li>
</ul>
<p><strong>常用方法</strong></p>
<p>增：</p>
<p>append</p>
<p>删：</p>
<p>delete(inrt start, int end)</p>
<p>deleteCharAt(int index)</p>
<p>改:</p>
<p>replace(int start, int end, String str)</p>
<p>setCharAt(int index, char c)</p>
<p>查:</p>
<p>charAt(int index)</p>
<p>插:</p>
<p>insert(int index,xx)</p>
<p>长度:</p>
<p>length()</p>
<p><strong>三者效率对比：</strong></p>
<p>Stringbuilder&gt; StringBuffer&gt;String</p>
<h1 id="Date类"><a href="#Date类" class="headerlink" title="Date类"></a>Date类</h1><h2 id="Jdk8之前："><a href="#Jdk8之前：" class="headerlink" title="Jdk8之前："></a>Jdk8之前：</h2><h2 id="System类的currentTimesMillis"><a href="#System类的currentTimesMillis" class="headerlink" title="System类的currentTimesMillis()"></a>System类的currentTimesMillis()</h2><ul>
<li><p>获取当前时间对应的毫秒数，long类型，时间戳</p>
</li>
<li><p>当前时间与1970年1月1日0时0分0秒之间的毫秒数</p>
</li>
<li><p>常用来计算时间差</p>
</li>
</ul>
<h2 id="SimpleDateFormat"><a href="#SimpleDateFormat" class="headerlink" title="SimpleDateFormat"></a>SimpleDateFormat</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> <span class="keyword">throws</span> ParseException &#123;</span><br><span class="line">    <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">    <span class="comment">//格式化：日期--》字符串</span></span><br><span class="line">    <span class="type">Date</span> <span class="variable">date1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="type">String</span> <span class="variable">strDate</span> <span class="operator">=</span> sdf.format(date1);</span><br><span class="line">    System.out.println(strDate); <span class="comment">//2023-10-09 23:12:19</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//解析:字符串--》日期</span></span><br><span class="line">    <span class="type">Date</span> <span class="variable">date2</span> <span class="operator">=</span> sdf.parse(<span class="string">&quot;2023-10-09 23:12:11&quot;</span>); </span><br><span class="line">    System.out.println(date2);<span class="comment">//Mon Oct 09 23:12:11 CEST 2023</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Jdk8之后："><a href="#Jdk8之后：" class="headerlink" title="Jdk8之后："></a>Jdk8之后：</h2><h2 id="LocalDate-LocalTime-LocalDateTime"><a href="#LocalDate-LocalTime-LocalDateTime" class="headerlink" title="LocalDate\LocalTime\LocalDateTime"></a>LocalDate\LocalTime\LocalDateTime</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//获取当前时间</span></span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">localdate</span> <span class="operator">=</span> LocalDate.now();</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">localTime</span> <span class="operator">=</span> LocalTime.now();</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">localDateTime</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">        System.out.println(localdate); <span class="comment">//2023-10-09</span></span><br><span class="line">        System.out.println(localTime); <span class="comment">//23:45:05.662967400</span></span><br><span class="line">        System.out.println(localDateTime); <span class="comment">//2023-10-09T23:45:05.662967400</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//of():获取指定时间</span></span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">localDate1</span> <span class="operator">=</span> LocalDate.of(<span class="number">2021</span>, <span class="number">5</span>, <span class="number">23</span>);</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">localDateTime1</span> <span class="operator">=</span> LocalDateTime.of(<span class="number">2022</span>,<span class="number">12</span>,<span class="number">23</span>,<span class="number">23</span>,<span class="number">34</span>,<span class="number">45</span>);</span><br><span class="line">        System.out.println(localDate1);</span><br><span class="line">        System.out.println(localDateTime1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>常用方法：</p>
<p>getxxxx()&#x2F;withxxx()&#x2F;plusxxx()&#x2F;minusXXX()</p>
<h2 id="Instant-类似于Date"><a href="#Instant-类似于Date" class="headerlink" title="Instant 类似于Date"></a>Instant 类似于Date</h2><p>时间线上的一个瞬时点。可能被用来记录应用程序中的事件时间戳</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test5</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> Instant.now();</span><br><span class="line">    System.out.println(instant); <span class="comment">//当前时间</span></span><br><span class="line">    <span class="type">long</span> <span class="variable">milliTime</span> <span class="operator">=</span> instant.toEpochMilli();</span><br><span class="line">    System.out.println(milliTime);<span class="comment">//当前时间至1970年的毫秒数</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="DateTimeFormatter"><a href="#DateTimeFormatter" class="headerlink" title="DateTimeFormatter"></a>DateTimeFormatter</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test6</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//自定义格式</span></span><br><span class="line">    <span class="type">DateTimeFormatter</span> <span class="variable">dateTimeFormatter</span> <span class="operator">=</span> DateTimeFormatter.ofPattern(<span class="string">&quot;yyyy/MM/dd HH:mm:ss&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//格式化：时间、日期-》字符串</span></span><br><span class="line">    <span class="type">LocalDateTime</span> <span class="variable">localDateTime</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">    <span class="type">String</span> <span class="variable">strDateTime</span> <span class="operator">=</span> dateTimeFormatter.format(localDateTime);</span><br><span class="line">    System.out.println(strDateTime); <span class="comment">//2023/10/10 12:08:02</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//解析：字符串 -》日期、时间</span></span><br><span class="line">    <span class="type">TemporalAccessor</span> <span class="variable">temporalAccessor</span> <span class="operator">=</span> dateTimeFormatter.parse(<span class="string">&quot;2023/11/25 15:29:23&quot;</span>);</span><br><span class="line">    <span class="type">LocalDateTime</span> <span class="variable">localDateTime1</span> <span class="operator">=</span> LocalDateTime.from(temporalAccessor);</span><br><span class="line">    System.out.println(localDateTime1);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="比较器"><a href="#比较器" class="headerlink" title="比较器"></a>比较器</h1><p>两种方法：自然排序、定制排序</p>
<h2 id="实现comparable接口-自然排序"><a href="#实现comparable接口-自然排序" class="headerlink" title="实现comparable接口-自然排序"></a>实现comparable接口-自然排序</h2><p>实现步骤：</p>
<ol>
<li>具体的类A实现Comparable接口</li>
<li>重写Comparable接口中的compareTo(Object obj)方法，在此方法中指明比较类A的对象的大小的标准</li>
<li>创建类A多个实例，进行大小的比较和排序</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        Product[] arr = <span class="keyword">new</span> <span class="title class_">Product</span>[<span class="number">6</span>];</span><br><span class="line">        arr[<span class="number">0</span>] =<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;aaa&quot;</span>,<span class="number">5555</span>);</span><br><span class="line">        arr[<span class="number">1</span>] =<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;bbb&quot;</span>,<span class="number">1111</span>);</span><br><span class="line">        arr[<span class="number">2</span>] =<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;ccc&quot;</span>,<span class="number">3333</span>);</span><br><span class="line">        arr[<span class="number">3</span>] =<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;ddd&quot;</span>,<span class="number">8888</span>);</span><br><span class="line">        arr[<span class="number">4</span>] =<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;eee&quot;</span>,<span class="number">1111</span>);</span><br><span class="line">        arr[<span class="number">5</span>] =<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;fff&quot;</span>,<span class="number">2222</span>);</span><br><span class="line">        Arrays.sort(arr);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span>; i&lt;arr.length;i++)&#123;</span><br><span class="line">            System.out.println(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Product</span> <span class="keyword">implements</span> <span class="title class_">java</span>.lang.Comparable &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> price;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Product</span><span class="params">(String name, <span class="type">double</span> price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Product&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, price=&quot;</span> + price +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    *当前的类需要实现Comparable中的抽象方法</span></span><br><span class="line"><span class="comment">    * 在此方法中，指明如何判断当前类的大小。</span></span><br><span class="line"><span class="comment">    *如果返回值是正，则当前对象大</span></span><br><span class="line"><span class="comment">    * 如果为0，则一样大</span></span><br><span class="line"><span class="comment">    *比较标准：价格（大到小），名字排序从小到大</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(o == <span class="built_in">this</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(o <span class="keyword">instanceof</span> Product)&#123;</span><br><span class="line">            <span class="type">Product</span> <span class="variable">p</span> <span class="operator">=</span> (Product) o;</span><br><span class="line">            <span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span> Double.compare(<span class="built_in">this</span>.price, p.price);</span><br><span class="line">            <span class="keyword">if</span>(value != <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> -value;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span>  <span class="built_in">this</span>.name.compareTo(p.name);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;类型不匹配&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Comparator-定制排序"><a href="#Comparator-定制排序" class="headerlink" title="Comparator-定制排序"></a>Comparator-定制排序</h2><p>实现步骤：</p>
<ol>
<li>创建一个实习了Comparator接口的实现类</li>
<li>实现类要求重写Comparator接口中的抽象方法compare(Object o1, Object o2)在此方法中指明要比较大小对象的大小关系（比如，String类、Product类）</li>
<li>创建此实现类A的对象，并将此对象传入到相关方法的参数位置即可（比如说:Arrays.sort(…,类A的实例)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ComparatorTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        Product[] arr = <span class="keyword">new</span> <span class="title class_">Product</span>[<span class="number">6</span>];</span><br><span class="line">        arr[<span class="number">0</span>] =<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;aaa&quot;</span>,<span class="number">5555</span>);</span><br><span class="line">        arr[<span class="number">1</span>] =<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;bbb&quot;</span>,<span class="number">1111</span>);</span><br><span class="line">        arr[<span class="number">2</span>] =<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;ccc&quot;</span>,<span class="number">3333</span>);</span><br><span class="line">        arr[<span class="number">3</span>] =<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;ddd&quot;</span>,<span class="number">8888</span>);</span><br><span class="line">        arr[<span class="number">4</span>] =<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;eee&quot;</span>,<span class="number">1111</span>);</span><br><span class="line">        arr[<span class="number">5</span>] =<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;fff&quot;</span>,<span class="number">2222</span>);</span><br><span class="line">        <span class="comment">//创建一个实现Comparator接口的实现类的对象</span></span><br><span class="line">        <span class="type">Comparator</span> <span class="variable">comparator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(o1 <span class="keyword">instanceof</span> Product &amp;&amp; o2 <span class="keyword">instanceof</span> Product)&#123;</span><br><span class="line">                    <span class="type">Product</span> <span class="variable">p1</span> <span class="operator">=</span> (Product) o1;</span><br><span class="line">                    <span class="type">Product</span> <span class="variable">p2</span> <span class="operator">=</span> (Product) o2;</span><br><span class="line">                    <span class="keyword">return</span> Double.compare(p1.getPrice(), p2.getPrice());</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;类型不匹配&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Arrays.sort(arr,comparator);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="对比两种方法："><a href="#对比两种方法：" class="headerlink" title="对比两种方法："></a>对比两种方法：</h2><p>角度1：</p>
<ul>
<li>自然排序：单一的，唯一的</li>
<li>定制排序：灵活的，多样的</li>
</ul>
<p>角度2：</p>
<ul>
<li>自然排序：一劳永逸</li>
<li>定制排序：临时的</li>
</ul>
<p>角度3：</p>
<ul>
<li>自然排序：对应接口是Comparable，对应的抽象方法compareTo(Object obj)</li>
<li>定制排序：对应接口是Comparator，对应的抽象方法compare(Object obj1, Object obj2)</li>
</ul>
<h1 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h1><h2 id="System类"><a href="#System类" class="headerlink" title="System类"></a>System类</h2><h2 id="Runtime类"><a href="#Runtime类" class="headerlink" title="Runtime类"></a>Runtime类</h2><p>对应着java进程的内存使用的运行时环境，是单例</p>
<h2 id="Math类"><a href="#Math类" class="headerlink" title="Math类"></a>Math类</h2><p>凡是与数学运算相关的操作</p>
<h2 id="BigInteger"><a href="#BigInteger" class="headerlink" title="BigInteger"></a>BigInteger</h2><p>商业计算值，要求数字精度比较高</p>
<h2 id="Random类"><a href="#Random类" class="headerlink" title="Random类"></a>Random类</h2><h1 id="常见问题："><a href="#常见问题：" class="headerlink" title="常见问题："></a>常见问题：</h1><h2 id="两种创建String对象的方式有什么不同？"><a href="#两种创建String对象的方式有什么不同？" class="headerlink" title="两种创建String对象的方式有什么不同？"></a>两种创建String对象的方式有什么不同？</h2><h2 id="String的-怎么实现？"><a href="#String的-怎么实现？" class="headerlink" title="String的+怎么实现？"></a>String的+怎么实现？</h2><p>常量+常量：略</p>
<p>变量+常量、变量+变量：创建一个StringBuilder的实例，通过append()添加字符串，最后调用toString()返回一个字符串。</p>
<h2 id="Java中String是不是final？"><a href="#Java中String是不是final？" class="headerlink" title="Java中String是不是final？"></a>Java中String是不是final？</h2><h2 id="String为什么不可变，在内存中具体形态"><a href="#String为什么不可变，在内存中具体形态" class="headerlink" title="String为什么不可变，在内存中具体形态"></a>String为什么不可变，在内存中具体形态</h2><p>规定不可变</p>
<p>String：提供字符串常量池</p>
<h2 id="String可以在switch中使用"><a href="#String可以在switch中使用" class="headerlink" title="String可以在switch中使用"></a>String可以在switch中使用</h2><p>可以.从Jdk7开始使用</p>
<h2 id="String中有哪些方法？"><a href="#String中有哪些方法？" class="headerlink" title="String中有哪些方法？"></a>String中有哪些方法？</h2><h2 id="subString-底层做了什么？"><a href="#subString-底层做了什么？" class="headerlink" title="subString()底层做了什么？"></a>subString()底层做了什么？</h2><p>底层是new的方式返回一个subStr</p>
<h2 id="操作字符串的类有哪些？有什么区别？"><a href="#操作字符串的类有哪些？有什么区别？" class="headerlink" title="操作字符串的类有哪些？有什么区别？"></a>操作字符串的类有哪些？有什么区别？</h2><h2 id="String线程安全问题"><a href="#String线程安全问题" class="headerlink" title="String线程安全问题"></a>String线程安全问题</h2><p>线程不安全的</p>
<h2 id="StringBuilder和StringBuffer的线程安全"><a href="#StringBuilder和StringBuffer的线程安全" class="headerlink" title="StringBuilder和StringBuffer的线程安全"></a>StringBuilder和StringBuffer的线程安全</h2><h2 id="Comparable和Comparator的区别和使用场景"><a href="#Comparable和Comparator的区别和使用场景" class="headerlink" title="Comparable和Comparator的区别和使用场景"></a>Comparable和Comparator的区别和使用场景</h2>
      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aluggnb.com/2023/10/06/javaday8_thread/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Alugg">
      <meta itemprop="description" content="Step out of your comfort zone">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alugg's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/06/javaday8_thread/" class="post-title-link" itemprop="url">java-Day8——线程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-06 23:05:05" itemprop="dateCreated datePublished" datetime="2023-10-06T23:05:05+08:00">2023-10-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>15k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>14 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h1><p>java.lang.Thread类代表线程，所有线程对象都必须是Thread类或其子类的对象</p>
<h1 id="线程创建并启动步骤"><a href="#线程创建并启动步骤" class="headerlink" title="线程创建并启动步骤"></a>线程创建并启动步骤</h1><h2 id="方式一：继承Thread类"><a href="#方式一：继承Thread类" class="headerlink" title="方式一：继承Thread类"></a>方式一：继承Thread类</h2><ol>
<li><p>创建一个继承于Thread类的子类</p>
</li>
<li><p>重写Thread类的run() —&gt;将此线程要执行的操作，声明在此方法体中</p>
</li>
<li><p>创建当前Thread的子类的对象</p>
</li>
<li><p>通过对象调用start()：1.启动线程 2.调用当前线程的run()</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EvenNumberTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建当前Thread的子类的对象</span></span><br><span class="line">        <span class="type">PrintNumber</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintNumber</span>();</span><br><span class="line">        <span class="comment">//调用对象启动start</span></span><br><span class="line">        t1.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//再创建一个线程</span></span><br><span class="line">        <span class="type">PrintNumber</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintNumber</span>();</span><br><span class="line">        t2.start();</span><br><span class="line">        <span class="comment">//main()所在线程执行操作</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">1</span>; i&lt;=<span class="number">10000</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">2</span> ==<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">&quot;:&quot;</span>+i+<span class="string">&quot;****&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个继承于Thread的子类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PrintNumber</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="comment">//重写Thread类的run（）</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">1</span>;i&lt;=<span class="number">1000</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i%<span class="number">2</span> ==<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">&quot;:&quot;</span>+i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="方法二：实现Runnable接口"><a href="#方法二：实现Runnable接口" class="headerlink" title="方法二：实现Runnable接口"></a>方法二：实现Runnable接口</h2><ol>
<li>创建一个实现Runnable接口的类</li>
<li>实现接口的run() –&gt;将此线程要执行的操作，声明在此方法体中</li>
<li>创建当前实现类的对象</li>
<li>将此对象作为参数传递到Thread类的构造器中，创建Thread类的实例</li>
<li>Thread类的实例调用start()</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EvenNumberTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建当前实现类的对象</span></span><br><span class="line">        <span class="type">EvenNumberPrint</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">EvenNumberPrint</span>();</span><br><span class="line">        <span class="comment">//将此对象作为参数传递到Thread类的构造器中，创建Thread类的实例</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(p);</span><br><span class="line">        <span class="comment">//Thread类的实例调用start()</span></span><br><span class="line">        t1.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//再创建一个线程</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(p);</span><br><span class="line">        t2.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//main方法对应的主线程</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">100</span>;i++)&#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;:&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个实现Runnable接口的类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EvenNumberPrint</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="comment">//实现接口的run() --&gt;将此线程要执行的操作，声明在此方法体中</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">100</span>;i++)&#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;:&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="两种方式对比"><a href="#两种方式对比" class="headerlink" title="两种方式对比"></a>两种方式对比</h2><p><strong>共同点</strong>：</p>
<p>​	1.创建线程的对象，都是Thread类或其子类的实例</p>
<p>​	2.启动线程都使用的是Thread类中的start()</p>
<p><strong>不同点</strong>：</p>
<p>​	一个是类的继承，一个是接口的实现</p>
<p>建议使用实现Runnable接口的方式。</p>
<p>Runnable好处：1.避免单继承的局限性 2.更适合处理有贡献数据的问题 3.实现代码与数据的分离</p>
<p>二者联系：public class Thread implements Runnable</p>
<h1 id="线程常用结构"><a href="#线程常用结构" class="headerlink" title="线程常用结构"></a>线程常用结构</h1><h2 id="线程的构造器"><a href="#线程的构造器" class="headerlink" title="线程的构造器"></a>线程的构造器</h2><ul>
<li><p>public Thread(): 分配一个新的线程对象</p>
</li>
<li><p>public Thread(String name):分配一个指定名字的新的线程对象</p>
</li>
<li><p>public Thread(Runnable target):指定创建线程的目标对象，它实现了Runnable接口中的run方法</p>
</li>
<li><p>public Thread（Runnable target, String name):分配一个带有指定目标新的线程对象并指定名字</p>
</li>
</ul>
<h2 id="线程中常用方法"><a href="#线程中常用方法" class="headerlink" title="线程中常用方法"></a>线程中常用方法</h2><ul>
<li>start():1.启动线程 2.调用线程的run()</li>
<li>run():将线程要执行的操作，声明在run()中</li>
<li>currentThread():获取当前执行代码对应的线程</li>
<li>getName():获取线程名</li>
<li>setName():设置线程名</li>
<li>sleep(long millis):静态方法，调用时，可以使得代码所在当前线程睡眠指定的毫秒数</li>
<li>yield():静态方法,一旦执行此方法，就释放cpu的执行权</li>
<li>join(): 在线程a中通过线程b调用join(),意味着线程a进入阻塞状态，直到线程b执行结束，线程a才结束阻塞状态，继续执行</li>
<li>isAlive():判断当前线程是否存活</li>
</ul>
<h2 id="线程优先级"><a href="#线程优先级" class="headerlink" title="线程优先级"></a>线程优先级</h2><p>（java是抢占式调度）</p>
<p>Thread类的三个优先级常量</p>
<p>MAX_PRIORITY(10):最高优先级</p>
<p>MIN_PRIORITY(1):最低优先级</p>
<p>NORM_PRIORITY(5):普通优先级，默认情况main线程具有普通优先级</p>
<p>getPriority():获取线程的优先级</p>
<p>setPriority():设置线程的优先级，范围[1,10],大数值就有大概率</p>
<h1 id="线程生命周期"><a href="#线程生命周期" class="headerlink" title="线程生命周期"></a>线程生命周期</h1><h2 id="JDK1-5之前：5种状态"><a href="#JDK1-5之前：5种状态" class="headerlink" title="JDK1.5之前：5种状态"></a>JDK1.5之前：5种状态</h2><p><img src="https://i.imgs.ovh/2023/10/06/LmeC3.png" alt="LmeC3.png"></p>
<h2 id="JDK5-0之后：6种状态"><a href="#JDK5-0之后：6种状态" class="headerlink" title="JDK5.0之后：6种状态"></a>JDK5.0之后：6种状态</h2><p><a target="_blank" rel="noopener" href="https://imgloc.com/image/Lmgm9"><img src="https://i.imgs.ovh/2023/10/06/Lmgm9.png" alt="Lmgm9.png"></a></p>
<h1 id="-1"><a href="#-1" class="headerlink" title=""></a></h1><h1 id="线程安全机制"><a href="#线程安全机制" class="headerlink" title="线程安全机制"></a>线程安全机制</h1><p>当多个线程访问同一资源（同一个变量、同一个文件、同一条记录）的时候，若多个线程<strong>只有读操作</strong>，那么不会发生线程安全问题。但是如果多个线程对资源有<strong>读和写</strong>操作，就容易出现线程安全问题。</p>
<h2 id="方法一：同步代码块"><a href="#方法一：同步代码块" class="headerlink" title="方法一：同步代码块"></a>方法一：同步代码块</h2><p>synchronized(同步监视器){</p>
<p>​	&#x2F;&#x2F;需要被同步的代码</p>
<p>}</p>
<p>说明：</p>
<ul>
<li>需要被同步的代码，即为操作共享数据的代码</li>
<li>共享数据，即多个线程都需要操作的数据</li>
<li>需要被同步的代码，在被synchronized包裹以后，就是的一个线程在操作这些代码过程中。其他线程必须等待。</li>
<li>同步监视器，俗称锁。哪个线程获取了锁，哪个线程就能执行需要被同步的代码</li>
<li>同步监视器，可以使用任何一个类的对象。但是，多个线程必须公用同一个同步监视器。</li>
</ul>
<p>注意：在实现Runnable接口的方式中，同步监视器可以考虑使用:this</p>
<p>​		在继承Thread类的方式中，同步监视器要慎用this,可以考虑使用当前类.class</p>
<p><strong>继承Thread类中的应用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WindowTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">SaleTicket</span> <span class="variable">w1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SaleTicket</span>(<span class="string">&quot;窗口1&quot;</span>);</span><br><span class="line">        <span class="type">SaleTicket</span> <span class="variable">w2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SaleTicket</span>(<span class="string">&quot;窗口2&quot;</span>);</span><br><span class="line">        <span class="type">SaleTicket</span> <span class="variable">w3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SaleTicket</span>(<span class="string">&quot;窗口3&quot;</span>);</span><br><span class="line">        w1.start();</span><br><span class="line">        w2.start();</span><br><span class="line">        w3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SaleTicket</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">1000</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (SaleTicket.class) &#123;<span class="comment">//this：此时表示w1,w2,w3不饿能保证唯一性</span></span><br><span class="line">                                <span class="comment">//obj:加上static，可以保证唯一性</span></span><br><span class="line">                <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">5</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;售票，票号为&quot;</span> + ticket);</span><br><span class="line">                    ticket--;</span><br><span class="line"></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SaleTicket</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>实现Runnable接口的应用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WindowTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SaleTicket</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SaleTicket</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(s);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(s);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(s);</span><br><span class="line"></span><br><span class="line">        t1.setName(<span class="string">&quot;窗口1&quot;</span>);</span><br><span class="line">        t2.setName(<span class="string">&quot;窗口2&quot;</span>);</span><br><span class="line">        t3.setName(<span class="string">&quot;窗口3&quot;</span>);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SaleTicket</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">1000</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">5</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;售票，票号为&quot;</span> + ticket);</span><br><span class="line">                    ticket--;</span><br><span class="line"></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="-2"><a href="#-2" class="headerlink" title=""></a></h2><h2 id="方式二：同步方法"><a href="#方式二：同步方法" class="headerlink" title="方式二：同步方法"></a>方式二：同步方法</h2><p>说明：</p>
<ul>
<li><p>如果操作共享数据的代码完整声明在了一个方法中，那么我就可以将此方法声明为同步方法即可。</p>
</li>
<li><p>非静态的同步方法，默认同步监视器是this</p>
</li>
<li><p>静态同步方法，默认监视器是当前类本身。</p>
</li>
</ul>
<p><strong>继承Thread类中的应用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WindowTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">SaleTicket</span> <span class="variable">w1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SaleTicket</span>(<span class="string">&quot;窗口1&quot;</span>);</span><br><span class="line">        <span class="type">SaleTicket</span> <span class="variable">w2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SaleTicket</span>(<span class="string">&quot;窗口2&quot;</span>);</span><br><span class="line">        <span class="type">SaleTicket</span> <span class="variable">w3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SaleTicket</span>(<span class="string">&quot;窗口3&quot;</span>);</span><br><span class="line">        w1.start();</span><br><span class="line">        w2.start();</span><br><span class="line">        w3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SaleTicket</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">1000</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">isFlag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(isFlag)&#123;</span><br><span class="line">          show();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123; </span><br><span class="line">            <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">5</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;售票，票号为&quot;</span> + ticket);</span><br><span class="line">                ticket--;</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                isFlag = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SaleTicket</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>实现Runnable接口的应用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WindowTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SaleTicket</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SaleTicket</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(s);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(s);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(s);</span><br><span class="line"></span><br><span class="line">        t1.setName(<span class="string">&quot;窗口1&quot;</span>);</span><br><span class="line">        t2.setName(<span class="string">&quot;窗口2&quot;</span>);</span><br><span class="line">        t3.setName(<span class="string">&quot;窗口3&quot;</span>);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SaleTicket</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">1000</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">isFlag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(isFlag)&#123;</span><br><span class="line">            show();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123; <span class="comment">//此时的同步监视器是:this，此问题中还是唯一的</span></span><br><span class="line">        <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">5</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;售票，票号为&quot;</span> + ticket);</span><br><span class="line">            ticket--;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            isFlag=<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="synchronized优缺点"><a href="#synchronized优缺点" class="headerlink" title="synchronized优缺点"></a>synchronized优缺点</h2><p>好处:解决了线程问题</p>
<p>弊端：在操作共享数据时，多线程其实是串行执行的，意味着性能低。</p>
<h2 id="单例模式-懒汉式（线程安全解决版）"><a href="#单例模式-懒汉式（线程安全解决版）" class="headerlink" title="单例模式-懒汉式（线程安全解决版）"></a>单例模式-懒汉式（线程安全解决版）</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BankTest</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Bank</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Bank</span> <span class="variable">b2</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">volatile</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                b1 = Bank.getInstance();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                b2 = Bank.getInstance();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            t1.join();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            t2.join();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(b1);</span><br><span class="line">        System.out.println(b2);</span><br><span class="line">        System.out.println(b1==b2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bank</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Bank</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> <span class="type">Bank</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Bank <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                instance = <span class="keyword">new</span> <span class="title class_">Bank</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//第二种方式（效率更高）</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Bank <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(instance ==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span>(Bank.class)&#123;</span><br><span class="line">                <span class="keyword">if</span>(instance==<span class="literal">null</span>)&#123;</span><br><span class="line">                    <span class="keyword">try</span>&#123;</span><br><span class="line">                        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                    &#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    instance = <span class="keyword">new</span> <span class="title class_">Bank</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">	</span><br></pre></td></tr></table></figure>

<h1 id="锁"><a href="#锁" class="headerlink" title="锁"></a>锁</h1><p>除了使用synchronized同步机制处理线程安全问题之外，还可以使用jdk5.0提供的锁方式</p>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ol>
<li>创建Lock的实例，需要确保多个线程公用同一个Lock实例！需要考虑将此对象声明为static final</li>
<li>执行lock()方法，锁定对共享资源的调用</li>
<li>Unlock()的调用，释放对共享资源的锁定</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WindowTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">SaleTicket</span> <span class="variable">w1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SaleTicket</span>(<span class="string">&quot;窗口1&quot;</span>);</span><br><span class="line">        <span class="type">SaleTicket</span> <span class="variable">w2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SaleTicket</span>(<span class="string">&quot;窗口2&quot;</span>);</span><br><span class="line">        <span class="type">SaleTicket</span> <span class="variable">w3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SaleTicket</span>(<span class="string">&quot;窗口3&quot;</span>);</span><br><span class="line">        w1.start();</span><br><span class="line">        w2.start();</span><br><span class="line">        w3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SaleTicket</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">1000</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">isFlag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">//1.创建Lock的实例，需要确保多个线程公用一个Lock实例,需要考虑将此对象声明为static finally</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">ReentrantLock</span> <span class="variable">lock</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(isFlag)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">//2. 执行lock方法，锁定对共享资源的调用</span></span><br><span class="line">                lock.lock();</span><br><span class="line">                show();</span><br><span class="line">            &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">                lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">10</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;售票，票号为&quot;</span> + ticket);</span><br><span class="line">                ticket--;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                isFlag = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SaleTicket</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Lock与synchronized的区别"><a href="#Lock与synchronized的区别" class="headerlink" title="Lock与synchronized的区别"></a>Lock与synchronized的区别</h2><p>synchronized不管是同步代码块还是同步方法，都需要在结束一对{}，释放对同步监视器的调用。</p>
<p>Lock是通过两个方法控制需要被同步的代码，更灵活一些。</p>
<p>Lock作为接口，提供了多种实现类，适合更多更复杂，效率更高。</p>
<h1 id="通信"><a href="#通信" class="headerlink" title="通信"></a>通信</h1><h2 id="线程间通信的理解"><a href="#线程间通信的理解" class="headerlink" title="线程间通信的理解"></a>线程间通信的理解</h2><p>当我们’需要多个线程’来共同完成一件任务，并且我们希望他们有规律的执行，那么多线程之间需要一些通信可以协调它们的工作，以此实现多线程共同操作一份数据。</p>
<h2 id="涉及到三个方法的使用"><a href="#涉及到三个方法的使用" class="headerlink" title="涉及到三个方法的使用"></a>涉及到三个方法的使用</h2><p>wait():线程一旦执行此方法，就进入等待状态，同时会释放对同步监视器的调用。</p>
<p>notify():一旦执行此方法，就会唤醒被wait()的线程中优先级最高的那一个线程。（如果被wait()的多个线程优先级相同就随机唤醒一个）。被唤醒的线程从当初被wait的位置继续执行。</p>
<p>notifyAll():一旦执行此方法，就会唤醒所有被wait的线程。</p>
<p><strong>注意</strong>：</p>
<ul>
<li>此三个方法的使用，必须是在同步代码块或同步方法中。</li>
<li>此三个方法的调用者，必须是同步监视器。否则会报IllegalMontiorStateException异常</li>
<li>此三个方法声明在Object类中</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrintNumberTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">PrintNumber</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintNumber</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(p,<span class="string">&quot;线程1&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(p,<span class="string">&quot;线程2&quot;</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PrintNumber</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">                notify();</span><br><span class="line">                <span class="keyword">if</span>(number&lt;=<span class="number">100</span>)&#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">10</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName()+<span class="string">&quot;:&quot;</span>+number);</span><br><span class="line">                    number++;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        wait(); <span class="comment">//线程一旦执行此方法，就进入等待状态。同事，会释放对同步监视器的调用。</span></span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="wait-和sleep-的区别"><a href="#wait-和sleep-的区别" class="headerlink" title="wait()和sleep()的区别"></a>wait()和sleep()的区别</h2><p><strong>相同点</strong>：一旦执行，当前线程都会进入阻塞状态</p>
<p><strong>不同点</strong>：</p>
<p><strong>声明位置不同</strong>：wait():声明在Object类中</p>
<p>​			sleep()声明在Thread类中，静态的</p>
<p><strong>使用场景不同</strong>：wait():只能使用在同步代码块或同步方法中</p>
<p>​					sleep():可以在任何需要使用的场景</p>
<p><strong>使用在同步代码块中</strong>：wait()一旦执行会释放同步监视器</p>
<p>​									sleep()一旦执行，不会释放</p>
<p><strong>结束阻塞的方式：</strong>wait()到达指定时间自动结束阻塞或通过被notify唤醒，结束阻塞</p>
<p>sleep():到达指定时间自动结束阻塞。</p>
<h2 id="消费者与生产者练习"><a href="#消费者与生产者练习" class="headerlink" title="消费者与生产者练习"></a>消费者与生产者练习</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProducerConsumerTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Clerk</span> <span class="variable">clerk</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Clerk</span>();</span><br><span class="line">        <span class="type">Producer</span> <span class="variable">pro1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Producer</span>(clerk);</span><br><span class="line">        <span class="type">Consumer</span> <span class="variable">con1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Consumer</span>(clerk);</span><br><span class="line">        pro1.setName(<span class="string">&quot;生产者1&quot;</span>);</span><br><span class="line">        con1.setName(<span class="string">&quot;消费者&quot;</span>);</span><br><span class="line">        pro1.start();</span><br><span class="line">        con1.start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Clerk</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">ProductNum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//增加产品数量方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">addProduct</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(ProductNum &gt;= <span class="number">20</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ProductNum++;</span><br><span class="line">        System.out.println(Thread.currentThread().getName()+<span class="string">&quot;生产了第&quot;</span>+ProductNum+<span class="string">&quot;个产品&quot;</span>);</span><br><span class="line">        notify();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//减少产品数量方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">minusProduct</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(ProductNum&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            ProductNum--;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;消费了第&quot;</span>+ProductNum+<span class="string">&quot;个产品&quot;</span>);</span><br><span class="line">            notify();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Producer</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Clerk clerk;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Producer</span><span class="params">(Clerk clerk)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.clerk = clerk;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;生产者生产产品&quot;</span>);</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                Thread.sleep(<span class="number">20</span>);</span><br><span class="line">            &#125;<span class="keyword">catch</span> (InterruptedException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            clerk.addProduct();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Consumer</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Clerk clerk;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Consumer</span><span class="params">(Clerk clerk)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.clerk = clerk;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;生产者生产产品&quot;</span>);</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                Thread.sleep(<span class="number">50</span>);</span><br><span class="line">            &#125;<span class="keyword">catch</span> (InterruptedException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            clerk.minusProduct();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="线程创建方式三-Callable"><a href="#线程创建方式三-Callable" class="headerlink" title="线程创建方式三-Callable()"></a>线程创建方式三-Callable()</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建一个实现Callable的实现类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NumThread</span> <span class="keyword">implements</span> <span class="title class_">Callable</span> &#123;</span><br><span class="line">    <span class="comment">//2.实现call方法，将此线程需要执行的操作声明在call()中</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i&lt;=<span class="number">100</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i%<span class="number">2</span> ==<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(i);</span><br><span class="line">                sum += i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CallableTest</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//3.创建Callable接口实现类的对象</span></span><br><span class="line">        <span class="type">NumThread</span> <span class="variable">numThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NumThread</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.将此Callable接口实现类的对象作为传递到FutureTask构造器中，创建FutureTask的对象</span></span><br><span class="line">        <span class="type">FutureTask</span> <span class="variable">futureTask</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FutureTask</span>(numThread);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.将FutureTask的对象作为参数传递到Thread类的构造器中，创建Thread对象，并调用start()</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(futureTask);</span><br><span class="line">        t1.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//6.获取Callable中call方法的返回值</span></span><br><span class="line">            <span class="comment">//get()返回值即为FutreTask构造器参数Callable实现类重写的call()的返回值</span></span><br><span class="line">            <span class="type">Object</span> <span class="variable">sum</span> <span class="operator">=</span> futureTask.get();<span class="comment">//(自带一个阻塞）</span></span><br><span class="line">            System.out.println(<span class="string">&quot;总和为&quot;</span> + sum);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="与Runnable方式的对比"><a href="#与Runnable方式的对比" class="headerlink" title="与Runnable方式的对比"></a>与Runnable方式的对比</h2><ul>
<li>call()可以有返回值，更灵活</li>
<li>call（）可以使用throws方式处理异常，更灵活</li>
<li>Callable使用了泛型参数。可以指明具体的call()的返回值类型，更灵活</li>
</ul>
<p>缺点：</p>
<p>如果在主线程中需要获取分线程call()的返回值，则此时的主线程是阻塞状态的</p>
<h1 id="线程创建方式四-使用线程池"><a href="#线程创建方式四-使用线程池" class="headerlink" title="线程创建方式四-使用线程池"></a>线程创建方式四-使用线程池</h1><p>此方式的好处：</p>
<ul>
<li>提高了程序执行的效率（因为线程已经提前创建好了）</li>
<li>提高了资源的复用率（因为执行完的线程并未销毁，而是可以继续执行其他的任务）</li>
<li>可以设置相关的参数，对线程池的线程的使用进行管理</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadPool</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.提供指定线程数量的线程池</span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">service</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">10</span>);</span><br><span class="line">        <span class="type">ThreadPoolExecutor</span> <span class="variable">service1</span> <span class="operator">=</span> (ThreadPoolExecutor) service;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置线程池的属性</span></span><br><span class="line">        service1.setMaximumPoolSize(<span class="number">50</span>);<span class="comment">//设置线程池中线程数的上限</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.执行指定的线程的操作-需要提供实现Runnable接口或Callable接口1实现类的对象</span></span><br><span class="line">        service.execute(<span class="keyword">new</span> <span class="title class_">NumberThread</span>());</span><br><span class="line">        service.execute(<span class="keyword">new</span> <span class="title class_">NumberThread1</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.关闭连接池</span></span><br><span class="line">        service.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NumberThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span>;i&lt;=<span class="number">100</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i%<span class="number">2</span> ==<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">&quot;:&quot;</span>+i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NumberThread1</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">100</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i%<span class="number">2</span>!=<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">&quot;:&quot;</span>+i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h1><h2 id="1-线程和进程相关定义"><a href="#1-线程和进程相关定义" class="headerlink" title="1.线程和进程相关定义"></a>1.线程和进程相关定义</h2><h2 id="2-多线程使用场景"><a href="#2-多线程使用场景" class="headerlink" title="2.多线程使用场景"></a>2.多线程使用场景</h2><ul>
<li>手机app应用图片的下载</li>
<li>迅雷的下载</li>
<li>Tomcat服务器上web应用，多个客户端发起请求，Tomcat针对多个请求开辟多个线程</li>
</ul>
<h2 id="3-如何实现多线程"><a href="#3-如何实现多线程" class="headerlink" title="3.如何实现多线程"></a>3.如何实现多线程</h2><h2 id="4-Thread类中的Start-和run-的区别？"><a href="#4-Thread类中的Start-和run-的区别？" class="headerlink" title="4.Thread类中的Start()和run()的区别？"></a>4.Thread类中的Start()和run()的区别？</h2><p>start():1.开启线程 2.调用线程的run()</p>
<h2 id="5-sleep-和yield-区别？"><a href="#5-sleep-和yield-区别？" class="headerlink" title="5.sleep()和yield()区别？"></a>5.sleep()和yield()区别？</h2><p>sleep():一旦调用，就进入阻塞状态（或TiMED_WAITING状态）</p>
<p>yield():释放cpu的执行权，处在runnable的状态</p>
<h2 id="6-线程生命周期"><a href="#6-线程生命周期" class="headerlink" title="6.线程生命周期"></a>6.线程生命周期</h2><p>ex:线程有哪些状态，如何让线程进入阻塞</p>
<p>ex线程有几个状态，就绪和阻塞有什么不同</p>
<h2 id="7-线程优先级怎么定义"><a href="#7-线程优先级怎么定义" class="headerlink" title="7.线程优先级怎么定义"></a>7.线程优先级怎么定义</h2><h2 id="8-stop-和suspend-方法为何不推荐使用"><a href="#8-stop-和suspend-方法为何不推荐使用" class="headerlink" title="8.stop()和suspend()方法为何不推荐使用"></a>8.stop()和suspend()方法为何不推荐使用</h2><p>stop():一旦执行，线程就结束了。导致run()有未执行结束的代码。stop()会导致释放同步监视器，导致线程安全</p>
<p>suspend():与resume()搭配使用，导致死锁</p>
<h2 id="9-线程安全的理解，线程安全如何造成的"><a href="#9-线程安全的理解，线程安全如何造成的" class="headerlink" title="9.线程安全的理解，线程安全如何造成的"></a>9.线程安全的理解，线程安全如何造成的</h2><h2 id="10-多线程公用一个数据变量需要注意什么"><a href="#10-多线程公用一个数据变量需要注意什么" class="headerlink" title="10.多线程公用一个数据变量需要注意什么"></a>10.多线程公用一个数据变量需要注意什么</h2><h2 id="11-多线程保证线程安全一般有几种方式"><a href="#11-多线程保证线程安全一般有几种方式" class="headerlink" title="11.多线程保证线程安全一般有几种方式"></a>11.多线程保证线程安全一般有几种方式</h2><p>同步机制</p>
<p>Lock接口</p>
<h2 id="12-用什么关键字修饰同步方法？"><a href="#12-用什么关键字修饰同步方法？" class="headerlink" title="12.用什么关键字修饰同步方法？"></a>12.用什么关键字修饰同步方法？</h2><h2 id="13-synchronized加在静态方法和普通方法的区别"><a href="#13-synchronized加在静态方法和普通方法的区别" class="headerlink" title="13.synchronized加在静态方法和普通方法的区别"></a>13.synchronized加在静态方法和普通方法的区别</h2><p>同步监视器不同。静态：类本身 非静态:this</p>
<h2 id="14-当一个线程进入一个对象的一个synchronized方法后，其他线程是否可以进入此对象的其他方法？"><a href="#14-当一个线程进入一个对象的一个synchronized方法后，其他线程是否可以进入此对象的其他方法？" class="headerlink" title="14.当一个线程进入一个对象的一个synchronized方法后，其他线程是否可以进入此对象的其他方法？"></a>14.当一个线程进入一个对象的一个synchronized方法后，其他线程是否可以进入此对象的其他方法？</h2><p>需要看其他方法是否使用synchronized修饰，同步监视器的this是否是同一个。</p>
<p>只有当使用了synchronized且this是同一个的情况下，就不能访问</p>
<h2 id="15-线程同步与阻塞的关系？同步一定阻塞吗？阻塞一定同步吗？"><a href="#15-线程同步与阻塞的关系？同步一定阻塞吗？阻塞一定同步吗？" class="headerlink" title="15.线程同步与阻塞的关系？同步一定阻塞吗？阻塞一定同步吗？"></a>15.线程同步与阻塞的关系？同步一定阻塞吗？阻塞一定同步吗？</h2><p>同步一定阻塞。 阻塞不一定同步</p>
<h2 id="16-wait和notify方法为什么一定要在同步块中调用？"><a href="#16-wait和notify方法为什么一定要在同步块中调用？" class="headerlink" title="16.wait和notify方法为什么一定要在同步块中调用？"></a>16.wait和notify方法为什么一定要在同步块中调用？</h2><p>调用者必须是同步监视器。</p>
<h2 id="17-生产者、消费者问题"><a href="#17-生产者、消费者问题" class="headerlink" title="17.生产者、消费者问题"></a>17.生产者、消费者问题</h2><h2 id="18-wait和sleep的区别"><a href="#18-wait和sleep的区别" class="headerlink" title="18.wait和sleep的区别"></a>18.wait和sleep的区别</h2><h2 id="19-手写单例模式。"><a href="#19-手写单例模式。" class="headerlink" title="19.手写单例模式。"></a>19.手写单例模式。</h2>
      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aluggnb.com/2023/10/05/javaday7_exception/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Alugg">
      <meta itemprop="description" content="Step out of your comfort zone">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alugg's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/05/javaday7_exception/" class="post-title-link" itemprop="url">java-Day7——异常</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-05 23:11:05" itemprop="dateCreated datePublished" datetime="2023-10-05T23:11:05+08:00">2023-10-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="异常定义"><a href="#异常定义" class="headerlink" title="异常定义"></a>异常定义</h1><p>指的是程序在执行过程中，出现的非正常情况，如果补处理最终会导致JVM的非正常停止。</p>
<h1 id="异常的抛出机制"><a href="#异常的抛出机制" class="headerlink" title="异常的抛出机制"></a>异常的抛出机制</h1><p>java中把不同的异常用不同的类表示，一旦发现某种异常，就创建该异常类型的对象，并throw。然后程序员可以catch到这个异常并处理；如果没有catch这个异常对象，那么这个异常对象将会导致程序的终止</p>
<h1 id="如何对待异常"><a href="#如何对待异常" class="headerlink" title="如何对待异常"></a>如何对待异常</h1><ul>
<li><p>一遇到错误就终止程序的运行</p>
</li>
<li><p>编写程序时，充分的预防和避免。实在无法避免的，编写相应的代码进行异常的检测、以及‘异常的处理‘，保证代码的健壮性</p>
</li>
</ul>
<h1 id="异常的体系结构"><a href="#异常的体系结构" class="headerlink" title="异常的体系结构"></a>异常的体系结构</h1><h2 id="Throwable类"><a href="#Throwable类" class="headerlink" title="Throwable类"></a>Throwable类</h2><p>是java执行过程总发生异常事件对应的类的根父类</p>
<h2 id="Error和Exception"><a href="#Error和Exception" class="headerlink" title="Error和Exception"></a>Error和Exception</h2><ul>
<li><p>Error：java虚拟机无法解决的严重问题。如JVM系统内部错误、资源耗尽等严重情况。一般不编写针对性代码处理</p>
<ul>
<li>StackOverflowError, OutOfMemoryError</li>
</ul>
</li>
<li><p>Exception：其他因编程错误或偶然的外在因素导致的一般性问题，需要使用针对性的代码进行处理，使程序继续运行。否则一旦发生异常，程序也会挂掉。如空指针访问、试图读取不在的文件、网络连接中断。</p>
<ul>
<li>编译时异常：执行javac.exe命令时出现异常<ul>
<li>ClassNotFoundException</li>
<li>FileNotFoundException</li>
<li>IoException</li>
</ul>
</li>
<li>运行时异常：执行java.exe命令时出现异常<ul>
<li>ArrayIndexOutOfBoundsException</li>
<li>NullPointerException</li>
<li>ClassCastException</li>
<li>NumberFomatException</li>
<li>InpuitMismatchException</li>
<li>ArithmeticException</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="编译时异常和运行时异常"><a href="#编译时异常和运行时异常" class="headerlink" title="编译时异常和运行时异常"></a>编译时异常和运行时异常</h1><ul>
<li><p>编译时异常（checked异常)：在代码编译阶段，编译器就能明确警示当前代码可能发生xx异常，并且明确督促程序员提前编写处理它的代码。 如果程序员没有编写对应的处理代码，则编译器就会直接判定编译失败，从而不能生产字节码文件。这类异常的发生不是由程序员的代码引起的或者不是靠加简单判断可以避免的。如FileNotFoundException</p>
</li>
<li><p>运行时异常（runtime异常）：在代码编译阶段，编译器完全不做任何检查，无论该异常都不给任何提示。只有等代码运行起来并确实发生了xx异常，它才能被发现。通常，这类异常是由程序员的代码编写不当引起的。RuntimeException</p>
</li>
</ul>
<h1 id="Java异常处理的方式"><a href="#Java异常处理的方式" class="headerlink" title="Java异常处理的方式"></a>Java异常处理的方式</h1><h2 id="方式一-try-catch-finally："><a href="#方式一-try-catch-finally：" class="headerlink" title="方式一 try-catch-finally："></a>方式一 <strong>try-catch-finally</strong>：</h2><ol>
<li>“抛”：程序执行过程中，一旦出现异常，就会在异常的代码处，生产对应异常类的对象，并将对象抛出，一旦抛出，此程序就不执行其后的代码了。</li>
<li>“抓”：针对于1中抛出的异常，进行捕获处理。一旦将异常进行了处理，代码就可以正常处理</li>
</ol>
<p><strong>基本结构</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    ...<span class="comment">//可能产生异常的代码</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span>(异常类型<span class="number">1</span>)&#123;</span><br><span class="line">    ...<span class="comment">//产生异常1类型时的处理方式</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span>(异常类型<span class="number">2</span>)&#123;</span><br><span class="line">    ...<span class="comment">//产生异常2类型时的处理方式</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">finally</span>&#123;</span><br><span class="line">    ...<span class="comment">//无论是否发生异常，都无条件执行的语句</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>使用细节：</strong></p>
<ul>
<li><p>如果声明了多个catch结构，不同的异常类型若不存在父子关系的情况下，声明位置无所谓。如果多个异常类型满足父子关系的，则必须将子类声明在父类结构的上面。</p>
</li>
<li><p>try中声明的变量，出了try结果后，就不可以进行调用了</p>
</li>
<li><p>try catch结构是可以嵌套的</p>
</li>
</ul>
<p><strong>Catch中处理异常的方式</strong>：</p>
<ol>
<li><p>自己编写输出的语句</p>
</li>
<li><p>printStackTrace()：打印异常详细信息。（推荐)</p>
</li>
<li><p>getMessage（）:获取发生异常的原因</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>;</span><br><span class="line">        str = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> Integer.parseInt(str);</span><br><span class="line">        System.out.println(i);</span><br><span class="line">    &#125;<span class="keyword">catch</span> (NumberFormatException e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        System.out.println(e.getMessage());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;程序结束&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>开发体会：</strong></p>
<ul>
<li><p>运行时异常：</p>
<p>​	开发中，通常就不进行显示的处理。一旦在程序执行中，出现了异常，就根据异常的提升信息修改代码。</p>
</li>
<li><p>编译时异常:</p>
<p>​	一定要处理，否则编译不过。</p>
</li>
</ul>
<p><strong>finally的理解</strong></p>
<ul>
<li><p>将一定要执行的代码声明在finally结构中</p>
</li>
<li><p>无论try或catch中是否存在仍未被处理的异常，无论try中或catch中是否存在return语句等，finally中声明的语句一定会执行</p>
</li>
<li><p>finally语句和catch语句是可选的，但finally不能单独使用</p>
</li>
</ul>
<p><strong>什么代码一定要放入finally</strong></p>
<p>输入流、输出流、数据库连接、Socket连接等资源，在使用完以后，必须是显式的进行关闭操作，否则GC不会自动的回收这些资源，进而导致内存的泄露</p>
<h2 id="方式二-throws"><a href="#方式二-throws" class="headerlink" title="方式二:throws"></a>方式二:<strong>throws</strong></h2><p><strong>格式：</strong> 在方法的声明处，使用throws 异常1，异常2,…</p>
<p><strong>是否真正处理了异常：</strong></p>
<ul>
<li>从编译是否能通过的角度看，看成给出了异常万一要是出现时候的解决方法。此方案就是，继续向上抛出</li>
<li>但是此throws方式，仅是将可能出现的异常抛给方法的调用者。此调用者仍然需要考虑如何处理相关异常，从这个角度看，throws的方式不算真正意义上处理了异常。</li>
</ul>
<p><strong>方法重写时的要求</strong>（针对于编译时异常）：</p>
<p>子类重写方法抛出的异常类型要么与父类的方法抛出的异常<strong>相同</strong>或者是该异常类型的<strong>子类</strong></p>
<h1 id="开发中如何选择异常处理方法"><a href="#开发中如何选择异常处理方法" class="headerlink" title="开发中如何选择异常处理方法"></a>开发中如何选择异常处理方法</h1><ul>
<li>涉及资源的调用（流、数据库连接、网络连接），try-catch-finally，从而保证内存不泄露</li>
<li>父类被重写的方法没有throws异常类型，子类重写方法出现异常只能使用try-catch-finally</li>
<li>开发中方法a依次调用b,c,d等方法，方法b,c,d之间是递进关系。此时如果b,c,d中有异常，我们通常选择使用throws，而方法a中通常使用try-cat-finally</li>
</ul>
<h1 id="手动throw异常对象"><a href="#手动throw异常对象" class="headerlink" title="手动throw异常对象"></a>手动throw异常对象</h1><p>在实际开发中，如果出现不满足<strong>具体场景</strong>的代码问题，我们就有必要抛出一个指定类型的异常对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        s1.regist(-<span class="number">10</span>);</span><br><span class="line">        System.out.println(s1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">    <span class="type">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">regist</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (id &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">this</span>.id = id;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;输入ID非法&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="自动抛和手动抛异常的理解"><a href="#自动抛和手动抛异常的理解" class="headerlink" title="自动抛和手动抛异常的理解"></a>自动抛和手动抛异常的理解</h1><ul>
<li>自动抛：程序执行过程中，一旦出现异常，就会在异常的代码处，自动生产对应异常类的对象，并将对象抛出</li>
<li>手动抛：程序执行过程中，不满足指定条件的情况下，我们主动使用throw+异常类的对象方式抛出异常对象。</li>
</ul>
<p>抓：</p>
<ul>
<li>狭义理解：try-catch的方式捕获异常，并处理</li>
<li>广义理解：抓可以理解为“处理“。则此时对应着1.try-catch-finally 2.throws</li>
</ul>
<h1 id="自定义异常："><a href="#自定义异常：" class="headerlink" title="自定义异常："></a>自定义异常：</h1><h2 id="定义方式"><a href="#定义方式" class="headerlink" title="定义方式"></a>定义方式</h2><ol>
<li><p>通常继承于RuntimeException、Exception</p>
</li>
<li><p>通常提供几个重载的构造器</p>
</li>
<li><p>提供一个全局常量，声明为static final long serialVersionUID</p>
</li>
</ol>
<h2 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h2><ul>
<li>在具体代码中，满足指定条件的情况下，需要收到的使用“throw+自定义异常类的对象”方法，将异常对象抛出。</li>
<li>如果自定义异常类是非运行时异常，则必须考虑如何处理此异常类的对象（1.try-cat-finally 2.throws)</li>
</ul>
<h2 id="自定义异常的目的"><a href="#自定义异常的目的" class="headerlink" title="自定义异常的目的"></a>自定义异常的目的</h2><p>通过异常的名称就能直接判断此异常出现的原因。尽然如此，我们就有必要在实际开发场景中，不满足我们指定条件时，知名我们自己特有的异常类，通过异常类的名称，就能判断出具体出现的问题</p>
<h1 id="常见问题："><a href="#常见问题：" class="headerlink" title="常见问题："></a>常见问题：</h1><h2 id="1-throw-和throws的区别"><a href="#1-throw-和throws的区别" class="headerlink" title="1.throw 和throws的区别"></a>1.throw 和throws的区别</h2><p>形：</p>
<p>throw:使用在方法内部，throw异常类的对象</p>
<p>throws：使用在方法的声明处，”throws 异常类1， 异常类2”</p>
<p>作用：</p>
<p>一个抛，一个是抓</p>
<h2 id="2-java的异常体系结构，异常顶级接口是什么，exception下有哪些类"><a href="#2-java的异常体系结构，异常顶级接口是什么，exception下有哪些类" class="headerlink" title="2.java的异常体系结构，异常顶级接口是什么，exception下有哪些类"></a>2.java的异常体系结构，异常顶级接口是什么，exception下有哪些类</h2><h2 id="3-java异常处理机制"><a href="#3-java异常处理机制" class="headerlink" title="3.java异常处理机制"></a>3.java异常处理机制</h2><p>两种处理方案，try-catch-finally; throws</p>
<h2 id="4-运行异常与一般异常区别"><a href="#4-运行异常与一般异常区别" class="headerlink" title="4.运行异常与一般异常区别"></a>4.运行异常与一般异常区别</h2><p>运行时异常：RuntimeException</p>
<ul>
<li>编译可以通过，运行时可能抛出。出现概率高一些；一般针对于运行时异常，都不处理</li>
</ul>
<p>一般异常：Exception</p>
<ul>
<li>编译不能通过，要求必须在编译之前，考虑异常的处理。不处理编译不通过。</li>
</ul>
<h2 id="5-常见的异常"><a href="#5-常见的异常" class="headerlink" title="5.常见的异常"></a>5.常见的异常</h2><h2 id="6-final、finally、finalize的区别"><a href="#6-final、finally、finalize的区别" class="headerlink" title="6.final、finally、finalize的区别"></a>6.final、finally、finalize的区别</h2><h2 id="7-不适用try-catch-程序出现异常会如何？"><a href="#7-不适用try-catch-程序出现异常会如何？" class="headerlink" title="7.不适用try-catch,程序出现异常会如何？"></a>7.不适用try-catch,程序出现异常会如何？</h2><p>对当前方法来讲，如果不适用try-catch，则在出现异常对象以后会抛出此对象。如果没有处理方案，就会终止程序的执行</p>
<h2 id="8-try-catch捕获的是什么异常？"><a href="#8-try-catch捕获的是什么异常？" class="headerlink" title="8.try,catch捕获的是什么异常？"></a>8.try,catch捕获的是什么异常？</h2><p>Exception。非error</p>
<h2 id="9-如果执行finally代码块之前返回了结果或者Jvm退出了，此时finally代码块还会执行吗？"><a href="#9-如果执行finally代码块之前返回了结果或者Jvm退出了，此时finally代码块还会执行吗？" class="headerlink" title="9.如果执行finally代码块之前返回了结果或者Jvm退出了，此时finally代码块还会执行吗？"></a>9.如果执行finally代码块之前返回了结果或者Jvm退出了，此时finally代码块还会执行吗？</h2><p>一定会执行。除了system.exit(0)</p>
<h2 id="10-try语句中有return语句，最后写finally语句，finally语句中的code会不会执行？何时执行？如果执行是在return前还是后"><a href="#10-try语句中有return语句，最后写finally语句，finally语句中的code会不会执行？何时执行？如果执行是在return前还是后" class="headerlink" title="10.try语句中有return语句，最后写finally语句，finally语句中的code会不会执行？何时执行？如果执行是在return前还是后"></a>10.try语句中有return语句，最后写finally语句，finally语句中的code会不会执行？何时执行？如果执行是在return前还是后</h2><p>会。先执行finally代码在return出结果</p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aluggnb.com/2023/10/04/javaday6_enum/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Alugg">
      <meta itemprop="description" content="Step out of your comfort zone">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alugg's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/04/javaday6_enum/" class="post-title-link" itemprop="url">java-Day6——枚举类</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-04 15:20:05" itemprop="dateCreated datePublished" datetime="2023-10-04T15:20:05+08:00">2023-10-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>6.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="枚举类"><a href="#枚举类" class="headerlink" title="枚举类"></a>枚举类</h1><p>枚举类本质上也是一种类，只不过这个类的对象是有限的、固定的几个，不能让用户随意创建。</p>
<ul>
<li><p>星期</p>
</li>
<li><p>性别</p>
</li>
<li><p>月份</p>
</li>
<li><p>积极</p>
</li>
<li><p>三原色</p>
</li>
<li><p>支付方式</p>
</li>
<li><p>线程状态</p>
</li>
<li><p>就职状态</p>
</li>
<li><p>订单状态</p>
</li>
</ul>
<p><strong>开发建议：</strong>如果针对于某个类，其实例是确定个数的。则推荐将此类声明为枚举类</p>
<p>若枚举只有一个对象，则可以作为一种单例模式的实现方式</p>
<p><strong>实现方法：</strong></p>
<p>java支持enum关键字类快速定义枚举类型</p>
<p>JDK5.0之前：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SeasonTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(Season.SPRING);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//jdk5.0</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Season</span>&#123;</span><br><span class="line">    <span class="comment">//2.声明当前类的对象的实例变量</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonDesc;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.私有化构造器</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Season</span><span class="params">(String seasonName,String seasonDesc)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.seasonName = seasonName;</span><br><span class="line">        <span class="built_in">this</span>.seasonDesc = seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.提供实例变量的get</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSeasonName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> seasonName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSeasonDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.创建当前类的实例</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Season</span> <span class="variable">SPRING</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;Spring&quot;</span>, <span class="string">&quot;Flowers&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Season</span> <span class="variable">SUMMER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;Summer&quot;</span>, <span class="string">&quot;Sunshine&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Season</span> <span class="variable">AUTUMN</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;Autumn&quot;</span>, <span class="string">&quot;Wind&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Season</span> <span class="variable">WINTER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;Winter&quot;</span>, <span class="string">&quot;Snow&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="5-0之后："><a href="#5-0之后：" class="headerlink" title="5.0之后："></a>5.0之后：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Season1</span>&#123;</span><br><span class="line">    <span class="comment">//创建当前类的实例</span></span><br><span class="line">    SPRING(<span class="string">&quot;Spring&quot;</span>, <span class="string">&quot;Flowers&quot;</span>),</span><br><span class="line">    SUMMER(<span class="string">&quot;Summer&quot;</span>, <span class="string">&quot;Sunshine&quot;</span>),</span><br><span class="line">    AUTUMN(<span class="string">&quot;Autumn&quot;</span>, <span class="string">&quot;Wind&quot;</span>),</span><br><span class="line">    WINTER(<span class="string">&quot;Winter&quot;</span>, <span class="string">&quot;Snow&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.声明当前类的对象的实例变量</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonDesc;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.私有化构造器</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Season1</span><span class="params">(String seasonName,String seasonDesc)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.seasonName = seasonName;</span><br><span class="line">        <span class="built_in">this</span>.seasonDesc = seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.提供实例变量的get</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSeasonName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> seasonName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSeasonDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Enum常用方法："><a href="#Enum常用方法：" class="headerlink" title="Enum常用方法："></a>Enum<strong>常用方法</strong>：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. toString() 返回的是常量名，可以重写该方法</span></span><br><span class="line">System.out.println(Season1.SPRING);</span><br><span class="line"><span class="comment">//2.name()：得到当前枚举常量的名称，toString()优先</span></span><br><span class="line">System.out.println(Season1.SPRING.name());</span><br><span class="line"><span class="comment">//3.values() 返回枚举类型的对象数组。便于遍历所有枚举值是一个静态方法</span></span><br><span class="line">Season1[] values = Season1.values();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i= <span class="number">0</span>; i&lt;values.length;i++)&#123;</span><br><span class="line">    System.out.println(values[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//4.valueOf(String objName):返回当前枚举类型中名称为objName的枚举类对象</span></span><br><span class="line"><span class="comment">//如果枚举类中不存objName则报错</span></span><br><span class="line"><span class="type">String</span> <span class="variable">objName</span> <span class="operator">=</span> <span class="string">&quot;WINT1&quot;</span>;</span><br><span class="line"><span class="type">Season1</span> <span class="variable">season1</span> <span class="operator">=</span> Season1.valueOf(objName);</span><br><span class="line">System.out.println(season1);</span><br><span class="line"><span class="comment">//5.oridnal():返回当前枚举常量的次序号</span></span><br><span class="line">System.out.println(Season1.AUTUMN.ordinal());</span><br></pre></td></tr></table></figure>



<h2 id="枚举类实现接口的操作："><a href="#枚举类实现接口的操作：" class="headerlink" title="枚举类实现接口的操作："></a>枚举类实现接口的操作：</h2><ul>
<li><p>Case1:枚举类实现接口，在枚举类中重写接口的抽象方法。当通过不同的枚举类对象调用此方法时，执行的是同一个方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Season1</span> <span class="keyword">implements</span> <span class="title class_">Info</span>&#123;</span><br><span class="line">    SPRING(<span class="string">&quot;Spring&quot;</span>, <span class="string">&quot;Flowers&quot;</span>),</span><br><span class="line">    SUMMER(<span class="string">&quot;Summer&quot;</span>, <span class="string">&quot;Sunshine&quot;</span>),</span><br><span class="line">    AUTUMN(<span class="string">&quot;Autumn&quot;</span>, <span class="string">&quot;Wind&quot;</span>),</span><br><span class="line">    WINTER(<span class="string">&quot;Winter&quot;</span>, <span class="string">&quot;Snow&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.声明当前类的对象的实例变量</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonDesc;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.私有化构造器</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Season1</span><span class="params">(String seasonName,String seasonDesc)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.seasonName = seasonName;</span><br><span class="line">        <span class="built_in">this</span>.seasonDesc = seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.提供实例变量的get</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSeasonName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> seasonName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSeasonDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Case2:让枚举类的每一个对象来重写接口的抽象方法。这样枚举的每一个对象都可以有不同的重写方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Info</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Season1</span> <span class="keyword">implements</span> <span class="title class_">Info</span>&#123;</span><br><span class="line">    SPRING(<span class="string">&quot;Spring&quot;</span>, <span class="string">&quot;Flowers&quot;</span>)&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    SUMMER(<span class="string">&quot;Summer&quot;</span>, <span class="string">&quot;Sunshine&quot;</span>)&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    AUTUMN(<span class="string">&quot;Autumn&quot;</span>, <span class="string">&quot;Wind&quot;</span>)&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    WINTER(<span class="string">&quot;Winter&quot;</span>, <span class="string">&quot;Snow&quot;</span>)&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.声明当前类的对象的实例变量</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonDesc;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.私有化构造器</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Season1</span><span class="params">(String seasonName,String seasonDesc)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.seasonName = seasonName;</span><br><span class="line">        <span class="built_in">this</span>.seasonDesc = seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.提供实例变量的get</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSeasonName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> seasonName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSeasonDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>实现一个单例模式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">GirlFriend</span>&#123;</span><br><span class="line">	yuanyuan(<span class="number">20</span>);</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> age;</span><br><span class="line">	<span class="keyword">private</span> <span class="title function_">GirlFriend</span><span class="params">(<span class="type">int</span> age)</span>&#123;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="Ex"><a href="#Ex" class="headerlink" title="Ex"></a>Ex</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ColorTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(Color.RED);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span>&#123;</span><br><span class="line">    RED(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="string">&quot;红色&quot;</span>),</span><br><span class="line">    ORDANGE(<span class="number">255</span>,<span class="number">128</span>,<span class="number">0</span>,<span class="string">&quot;橙色&quot;</span>),</span><br><span class="line">    GREEN(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>,<span class="string">&quot;绿色&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> red;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> green;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> blue;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String desc;</span><br><span class="line"></span><br><span class="line">    Color(<span class="type">int</span> red, <span class="type">int</span> green, <span class="type">int</span> blue, String desc) &#123;</span><br><span class="line">        <span class="built_in">this</span>.red = red;</span><br><span class="line">        <span class="built_in">this</span>.green = green;</span><br><span class="line">        <span class="built_in">this</span>.blue = blue;</span><br><span class="line">        <span class="built_in">this</span>.desc = desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getRed</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> red;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getGreen</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> green;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getBlue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> blue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name()+<span class="string">&quot;(&quot;</span>+red+<span class="string">&quot;,&quot;</span>+green+<span class="string">&quot;,&quot;</span>+blue+<span class="string">&quot;)&quot;</span>+desc;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h1><p>Annotation可以像修饰符一样被使用，可用于修饰包、类、构造器、方法、成员变量、参数、局部变量的声明。还可以添加一些参数值，这些信息被保存在Annotation的”name&#x3D;value”对中</p>
<h2 id="注解与注释区别："><a href="#注解与注释区别：" class="headerlink" title="注解与注释区别："></a>注解与注释区别：</h2><p>注解也可以看做是一种注释。通过使用注解，程序员可以在不改变原有逻辑的情况相爱，在源文件嵌入一些补充信息。但是，注解不同于单行注释和多行注释</p>
<ul>
<li>单行注释和多行注释是给程序员看的。</li>
<li>而注解是可以被编译器或其他程序读取的。程序还可以根据注解的不同，做出相应的处理</li>
</ul>
<h2 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h2><ul>
<li><p>生成文档注释</p>
</li>
<li><p>在编译时进行格式检查（JDK内置的三个基本注解）</p>
</li>
<li><p>跟踪代码依耐性，实现替换配置文件功能</p>
</li>
</ul>
<h2 id="三个常用注解"><a href="#三个常用注解" class="headerlink" title="三个常用注解"></a>三个常用注解</h2><ul>
<li>@Override:限定重写父类方法，该注解只能用于方法</li>
<li>@Deprecated：用于表示所修饰的（类、方法）已过时。通常是因为所修饰的结构危险或存在更好的选择。</li>
<li>@SuppressWarnings:抑制编译器警告</li>
</ul>
<h2 id="自定义注解"><a href="#自定义注解" class="headerlink" title="自定义注解"></a>自定义注解</h2><p>以@SuppressWarnings为参照，进行定义极客。</p>
<h1 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h1><h2 id="测试分类"><a href="#测试分类" class="headerlink" title="测试分类"></a>测试分类</h2><p>黑盒测试：不需要写代码，给输入值，看程序是否能够输出期望值。</p>
<p>白盒测试：需要写代码。关于程序具体的执行流程。</p>
<p>利用JUnit进行测试</p>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>正确编写单元测试方法，需要满足</p>
<ul>
<li><p>所在的类必须是Public的，非抽象的，包含唯一的无参构造器</p>
</li>
<li><p>@Test标记的方法本身必须是public，非抽象的，非静态的，void无返回值，()无参数的。</p>
</li>
</ul>
<h1 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h1><p>为了让基本数据类型具备引用数据类型变量的相关特征（封装性、继承性、多态性）</p>
<h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><p>Java针对于八种基本数据类型定义了相应的引用类型：包装类。</p>
<p><a target="_blank" rel="noopener" href="https://imgloc.com/image/L2DmW"><img src="https://i.imgs.ovh/2023/10/04/L2DmW.png" alt="L2DmW.png"></a></p>
<p><strong>基本数据类型转包装类</strong>（装箱）</p>
<p><strong>手动装箱</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WrapperTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i1</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">ii1</span> <span class="operator">=</span> Integer.valueOf(i1);</span><br><span class="line">        System.out.println(ii1.toString());</span><br><span class="line"></span><br><span class="line">        <span class="type">Float</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="number">12.3F</span>;</span><br><span class="line">        <span class="type">Float</span> <span class="variable">ff1</span> <span class="operator">=</span> Float.valueOf(f1);</span><br><span class="line">        System.out.println(ff1.toString());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>自动装箱</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i1</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">ii1</span> <span class="operator">=</span> i1;</span><br><span class="line">    <span class="type">Float</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="number">12.3F</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>包装类转基本数据类型</strong>(拆箱)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WrapperTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">ii1</span> <span class="operator">=</span> Integer.valueOf(i1);</span><br><span class="line">        <span class="type">int</span> <span class="variable">i1</span> <span class="operator">=</span> ii1.intValue();</span><br><span class="line">        i1 = i1+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">Float</span> <span class="variable">ff1</span> <span class="operator">=</span> Float.valueOf(<span class="number">12.3F</span>);</span><br><span class="line">        <span class="type">float</span> <span class="variable">f1</span> <span class="operator">=</span> ff1.floatValue();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>自动拆箱</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public void test()&#123;</span><br><span class="line">    Integer ii2 = 15;</span><br><span class="line">    int i2 = ii2;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="String与基本数据类型、包装类之间的转换"><a href="#String与基本数据类型、包装类之间的转换" class="headerlink" title="String与基本数据类型、包装类之间的转换"></a>String与基本数据类型、包装类之间的转换</h1><p>基本数据类型、包装类 转 String</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i5</span> <span class="operator">=</span><span class="number">10</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> String.valueOf(i5);</span><br><span class="line">    System.out.println(s1);</span><br><span class="line"></span><br><span class="line">    <span class="type">Integer</span> <span class="variable">ii5</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> String.valueOf(ii5);</span><br><span class="line">    System.out.println(s2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>String转基本数据类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test6</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">s5</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i1</span>  <span class="operator">=</span> Integer.parseInt(s5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>自动装箱时，若数值在缓存对象区间，两个包装类相等。若超出Integer m&#x3D;128， Integer n&#x3D;128,此时m不等于n</p>
<p><img src="https://i.imgs.ovh/2023/10/04/LFLm5.png" alt="LFLm5.png"></p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aluggnb.com/2023/10/03/javaday5_interface/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Alugg">
      <meta itemprop="description" content="Step out of your comfort zone">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alugg's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/03/javaday5_interface/" class="post-title-link" itemprop="url">java-Day5——接口</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-03 18:20:05" itemprop="dateCreated datePublished" datetime="2023-10-03T18:20:05+08:00">2023-10-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>6.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="接口（interface"><a href="#接口（interface" class="headerlink" title="接口（interface)"></a>接口（interface)</h1><p>1.接口： 本质就是契约、规范、标准</p>
<p>2.接口关键字：interface</p>
<p>3.接口内部结构的说明：</p>
<p>​	<strong>可以声明</strong>：</p>
<ul>
<li><p>​	 属性：必须使用public staic final 修饰</p>
</li>
<li><p>​	 方法： jdk8之前：声明抽象方法，修饰为public abstract</p>
<p>​                jdk8:声明静态方法、默认方法</p>
<p>​               jdk9：声明私有方法</p>
</li>
</ul>
<p>​	<strong>不可以声明</strong>：构造器、代码块</p>
<p>4.接口与类的关系：实现关系</p>
<p>5.格式：class A extends super A implements B,C{}</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Flyable</span> &#123;</span><br><span class="line">    <span class="comment">//全局常量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MIN_SPEED</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//可以省略 public static final</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">MAX_SPEED</span> <span class="operator">=</span> <span class="number">7900</span>;</span><br><span class="line">    <span class="comment">//可以省略 public abstract</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Attackbale</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">attack</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Plane</span> <span class="keyword">implements</span> <span class="title class_">Flyable</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bullet</span> <span class="keyword">implements</span> <span class="title class_">Flyable</span>, Attackbale&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;bullet fly&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attack</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bullet attack&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>常见实现方式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">USBTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建接口实现类的对象</span></span><br><span class="line">        <span class="type">Computer</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Computer</span>();</span><br><span class="line">        <span class="type">Printer</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Printer</span>();</span><br><span class="line">        c1.transferData(p1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.创捷接口实现类的匿名对象</span></span><br><span class="line">        c1.transferData(<span class="keyword">new</span> <span class="title class_">Camera</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.创建接口匿名实现类的对象</span></span><br><span class="line">        <span class="type">USB</span> <span class="variable">usb1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">USB</span>()&#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;U盘开始工作&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;U盘停止工作&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        c1.transferData(usb1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.创建接口匿名实现类的匿名对象</span></span><br><span class="line">        c1.transferData(<span class="keyword">new</span> <span class="title class_">USB</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;xx开始工作&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;xx停止工作&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Computer</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">transferData</span><span class="params">(USB usb)</span>&#123; <span class="comment">//多态 USB usb = new Printer();</span></span><br><span class="line">        System.out.println(<span class="string">&quot;设备链接成功&quot;</span>);</span><br><span class="line">        usb.start();</span><br><span class="line">        System.out.println(<span class="string">&quot;数据传续细节&quot;</span>);</span><br><span class="line">        usb.stop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Printer</span> <span class="keyword">implements</span> <span class="title class_">USB</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;开始工作打印机&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;打印机停止工作&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Camera</span> <span class="keyword">implements</span> <span class="title class_">USB</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;照相机开始&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;照相机停止工作&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">USB</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>6.说明</p>
<ul>
<li>类可以实现多个接口</li>
<li>类针对于接口的多实现，一定程度上就弥补了类的单继承性和局限性</li>
<li>类必须将实现的接口中的所有抽象方法重写，方可实例化。否则类必须得声明为抽象类</li>
<li>重写的方法的访问级别不小于原方法</li>
</ul>
<p>7.接口和接口关系：继承关系，且可以多继承</p>
<p>8.接口的多态性： 接口名 变量名 &#x3D; new 实现类对象</p>
<p>9.区分抽象类和接口</p>
<ul>
<li><p>共性：都可以声明抽象方法，都不能实例化</p>
</li>
<li><p>不同：抽象类一定有构造器，接口没有构造器</p>
<p>​		类与类直接继承关系，类与接口之间是实现关系，接口与接口直接是多继承关系</p>
</li>
</ul>
<p>10.jdk8之后引入了default方法，引用了静态和default方法</p>
<ul>
<li>接口类声明的静态方法，只能由接口</li>
<li>接口中声明的默认方法可以被实现类继承，实现类在没有重写此方法的情况下，默认调用接口中声明的方法。</li>
<li>类实现了两个接口，而两个接口中定义了同名同参数的默认方法。如果实现类没有重写此两个接口的方法，则会报错接口冲突</li>
<li>子类（或实现类）继承了父类并实现了接口。父类和接口中声明了同名同参数的方法。子类（或实现类）在类没有重写的情况下，默认调用的是父类的方法。</li>
<li>实现类继承了两个接口的两个同名方法。指定调用方法可采用”接口.super.方法()”</li>
</ul>
<h1 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h1><p><strong>定义</strong>：将一个类A定义在另一个类B里面，类A为内部类，类B为外部类</p>
<p><strong>为什么需要内部类</strong>：当一个事物A的内部，还有一个部分需要一个完整的结构B进行描述，而这个完整的结构B又只为外部事物A提供服务，不在其他地方单独使用，那么整个内部的完整结构B最好使用内部类</p>
<p><strong>分类</strong>：</p>
<ul>
<li><p>成员内部类：直接声明在外部类里面</p>
<ul>
<li><p>使用static修饰: 静态的成员内部类</p>
</li>
<li><p>不使用static修饰:非静态的成员内部类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PersonTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建Person的静态成员内部类的实例</span></span><br><span class="line">        Person.<span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>.Dog(); </span><br><span class="line">        dog.eat();<span class="comment">//chien manger</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.创建Person的非静态成员内部类的实例</span></span><br><span class="line">        <span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        Person.<span class="type">Bird</span> <span class="variable">bird</span> <span class="operator">=</span> p1.<span class="keyword">new</span> <span class="title class_">Bird</span>();</span><br><span class="line">        bird.eat();<span class="comment">//Bird manger</span></span><br><span class="line">        bird.show(<span class="string">&quot;YY&quot;</span>);<span class="comment">//age1, nameYY, this.nameTTN, person.nameTom</span></span><br><span class="line">        bird.show1();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//静态成员内部类</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Dog</span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;chien manger&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//非静态成员内部类</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Bird</span> &#123;</span><br><span class="line">        String name=<span class="string">&quot;TTN&quot;</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Bird manger&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">(String name)</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;age&quot;</span>+age);</span><br><span class="line">            System.out.println(<span class="string">&quot;name&quot;</span>+name);</span><br><span class="line">            System.out.println(<span class="string">&quot;this.name&quot;</span>+<span class="built_in">this</span>.name);</span><br><span class="line">            System.out.println(<span class="string">&quot;person.name&quot;</span>+Person.<span class="built_in">this</span>.name);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show1</span><span class="params">()</span>&#123;</span><br><span class="line">            eat();</span><br><span class="line">            <span class="built_in">this</span>.eat();</span><br><span class="line">            Person.<span class="built_in">this</span>.eat();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;人吃饭&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//局部内部类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">InnerClass1</span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">InnerClass1</span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">InnerClass1</span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>局部内部类：声明在方法内、构造器内、代码块内的内部内</p>
<ul>
<li><p>匿名成员内部类</p>
</li>
<li><p>非匿名成员内部类</p>
</li>
</ul>
</li>
</ul>
<p><strong>关于成员内部类的理解</strong></p>
<ul>
<li><p>从类的角度看：</p>
<ul>
<li><p>内部可以声明属性、方法、构造器、代码块、内部类等结构</p>
</li>
<li><p>此内部类可以声明父类、可以实现接口</p>
</li>
<li><p>可以使用final修饰</p>
</li>
<li><p>可以使用abstract修饰</p>
</li>
</ul>
</li>
<li><p>从外部成员的角度来看</p>
<ul>
<li>在内部可以调用外部类的结构。比如属性、方法</li>
<li>除了使用public、缺省权限修饰之外。还可以使用private、protected</li>
<li>可以使用static</li>
</ul>
</li>
</ul>
<h1 id="Ex"><a href="#Ex" class="headerlink" title="Ex"></a>Ex</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OuterClass</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//接口ex1</span></span><br><span class="line">        <span class="type">SubA</span> <span class="variable">a1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SubA</span>();</span><br><span class="line">        a1.method();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//接口ex2</span></span><br><span class="line">        <span class="type">A</span> <span class="variable">a2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>() &#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;匿名实现类的对象&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        a2.method();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//接口ex3</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">A</span>() &#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;匿名实现类的匿名对象&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.method();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//抽象类 ex1</span></span><br><span class="line">        <span class="type">SubB</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SubB</span>();</span><br><span class="line">        s1.method1();</span><br><span class="line">        <span class="comment">//抽象类 ex2</span></span><br><span class="line">        <span class="type">B</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;匿名重写&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        b1.method1();</span><br><span class="line">        <span class="comment">//抽象类 ex3</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">B</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;匿名重写匿名对象&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.method1();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//内部类ex6</span></span><br><span class="line">        <span class="type">C</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">C</span>();</span><br><span class="line">        c.method2();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//内部类ex7</span></span><br><span class="line">        <span class="type">C</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">C</span>()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;xxix&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        c1.method2();</span><br><span class="line">        <span class="comment">//内部类ex8</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">C</span>()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;haha&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.method2();</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">------------------------------------------------------------------------------------------</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SubA</span> <span class="keyword">implements</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;subA&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">B</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SubB</span> <span class="keyword">extends</span> <span class="title class_">B</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;SubB&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h1><h2 id="1-接口与抽象类的区别"><a href="#1-接口与抽象类的区别" class="headerlink" title="1.接口与抽象类的区别"></a>1.接口与抽象类的区别</h2><p><img src="https://i.imgs.ovh/2023/10/05/LALij.png" alt="LALij.png"></p>
<h2 id="2-接口是否可继承接口，抽象类是否可实现接口？抽象类是否可以继承实现类？"><a href="#2-接口是否可继承接口，抽象类是否可实现接口？抽象类是否可以继承实现类？" class="headerlink" title="2.接口是否可继承接口，抽象类是否可实现接口？抽象类是否可以继承实现类？"></a>2.接口是否可继承接口，抽象类是否可实现接口？抽象类是否可以继承实现类？</h2><p>是；是；是；</p>
<h2 id="3-接口可以有自己属性吗？"><a href="#3-接口可以有自己属性吗？" class="headerlink" title="3.接口可以有自己属性吗？"></a>3.接口可以有自己属性吗？</h2><p>可以。必须是public static final</p>
<h2 id="4-访问接口的默认方法如何使用？"><a href="#4-访问接口的默认方法如何使用？" class="headerlink" title="4.访问接口的默认方法如何使用？"></a>4.访问接口的默认方法如何使用？</h2><p>使用实现类的对象进行调用。而且实现还可以重写此默认方法。</p>
<h2 id="5-内部类的特点说一下"><a href="#5-内部类的特点说一下" class="headerlink" title="5.内部类的特点说一下"></a>5.内部类的特点说一下</h2><h2 id="6-匿名类说一下"><a href="#6-匿名类说一下" class="headerlink" title="6.匿名类说一下"></a>6.匿名类说一下</h2>
      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aluggnb.com/2023/10/01/javaday4_oob3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Alugg">
      <meta itemprop="description" content="Step out of your comfort zone">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alugg's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/01/javaday4_oob3/" class="post-title-link" itemprop="url">java-Day4——Static</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-01 22:44:01" itemprop="dateCreated datePublished" datetime="2023-10-01T22:44:01+08:00">2023-10-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="类属性、类方法"><a href="#类属性、类方法" class="headerlink" title="类属性、类方法"></a>类属性、类方法</h1><p>有时希望无论是否产生了对象或无论产生了多少对象的情况下，某些特定的数据在内存空间里只有一份。</p>
<p>static修饰的结构:属性、方法、代码块、内部类</p>
<h2 id="静态变量"><a href="#静态变量" class="headerlink" title="静态变量"></a>静态变量</h2><p>对比静态变量与实例变量：</p>
<p>​	1.个数：</p>
<p>​	静态变量：内存空间只有一份，被类的多个对象共享。</p>
<p>​	实例变量：类的每一个实例都保存着一份实例变量</p>
<p>​	2.内存位置：</p>
<p>​	静态变量：jdk6之前存放在方法区。 jdk7及之后，存放在堆空间</p>
<p>​	实例变量：存放在堆空间的对象实体中</p>
<p>​	3.加载时机</p>
<p>​	静态变量：随着类的加载而加载，由于类只会加载一次，所以静态变量也只有一份</p>
<p>​	实例变量：随着对象的创建而创建。每个对象拥有一份实例变量</p>
<p>​	4.调用者</p>
<p>​	静态变量：可以被类和实例调用</p>
<p>​	实例变量：只能通过实例来调用</p>
<p>​	5.消亡时机</p>
<p>​	静态变量：随着类的卸载而消亡</p>
<p>​	实例变量：随着对象的消亡而消亡</p>
<h2 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h2><ul>
<li><p>随着类的加载而加载</p>
</li>
<li><p>可以通过“类.静态加载”，直接调用静态方法</p>
</li>
<li><p>静态方法可以调用<strong>静态的属性和方法</strong>，但不可以调用任何非静态的结构</p>
<p>但非静态方法可以调用当前类中的静态结构</p>
</li>
</ul>
<p>什么时候需要将<strong>属性</strong>声明为静态的</p>
<ul>
<li>判断当前类的多个实例是否能共享此成员变量，且此成员变量的值是相同的</li>
<li>常将一些常量声明为静态，如Math类中的PI</li>
</ul>
<p>什么时候需要将<strong>方法</strong>声明为静态？</p>
<ul>
<li>方法内操作的变量如果<strong>都是静态变量（而非实例变量）</strong>，则建议声明为静态方法</li>
<li>常常将工具栏的方法声明为静态方法。比如Array类、Math类</li>
</ul>
<h1 id="单例设计模式-Singleton"><a href="#单例设计模式-Singleton" class="headerlink" title="单例设计模式(Singleton)"></a>单例设计模式(Singleton)</h1><p>定义:某个类只能存在一个对象实例</p>
<h2 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h2><p>如果要让虚拟机只能产生一个对象。首先必须将<strong>类的构造器的访问权限设置为private</strong>,这样就不能用new操作符在类的外部产生类的对象了，但在类的内部可以产生该类的对象，因为在类的外部开始无法得到类的对象，<strong>只能通过调用类的某个静态方法</strong>以返回类内部创建的对象，静态方法只能访问类中的静态成员变量，所以只能类内部产生的<strong>该类对象的变量也必须定义成静态的</strong></p>
<h2 id="具体实现方式"><a href="#具体实现方式" class="headerlink" title="具体实现方式"></a>具体实现方式</h2><p>饿汉式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Bank</span>&#123;</span><br><span class="line">    <span class="comment">//1.类的构造私有化</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Bank</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.在类的内部创建当前实例</span></span><br><span class="line">    <span class="comment">//4.此属性也必须声明为static</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Bank</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Bank</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.使用getXXx()获取当前实例，必须声明为static</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Bank <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>&#x2F;&#x2F;懒汉式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">GirlFriend</span>&#123;</span><br><span class="line">    <span class="comment">//1.类的构造器私有化</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">GirlFriend</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.声明当前类的实例</span></span><br><span class="line">    <span class="comment">//4.此属性也必须声明static</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">GirlFriend</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.通过getXX()获取当前类的实例，如果未创建，则在方法内部创建</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> GirlFriend <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(instance ==<span class="literal">null</span>)&#123;</span><br><span class="line">            instance = <span class="keyword">new</span> <span class="title class_">GirlFriend</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>特点对比</strong>：</p>
<ul>
<li><p>饿汉式：立即加载，随着类的加载，当前唯一实例就创建了</p>
</li>
<li><p>懒汉式：延迟加载，在需要使用时，进行创建了</p>
</li>
</ul>
<p><strong>优缺点</strong>：</p>
<ul>
<li>饿汉式：写法简单，由于内存中较早加载，使用更方便、更快。是线程安全的。（缺点）内存中占用实际较长</li>
<li>懒汉式：在需要时进行创建，节省内存空间。（缺点）线程不安全</li>
</ul>
<h1 id="Main方法"><a href="#Main方法" class="headerlink" title="Main方法"></a>Main方法</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>理解1：看作一个普通的静态方法</p>
<p>理解2：看作是程序的入口，格式的固定的</p>
<p>2.与控制台交互</p>
<p>方式1：使用Scanner</p>
<p>方式2：使用main()的形参进行传递</p>
<h1 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h1><p><strong>作用</strong>：用于初始化类或对象的信息</p>
<p><strong>代码块的修饰</strong>：只能使用static进行修饰</p>
<p>具体使用：</p>
<p>1.静态代码块：</p>
<ul>
<li><p>随着类的加载而执行</p>
</li>
<li><p>由于类的加载只有一次，进而静态代码块的执行，也只会执行一次</p>
</li>
<li><p>作用：用来初始化类的信息</p>
</li>
<li><p>内部可以声明变量、调用属性或方法、编写输出语句</p>
</li>
<li><p>静态先执行，非静态后执行</p>
</li>
<li><p>静态代码块内部只能调用静态结构</p>
</li>
</ul>
<p>2.非静态代码块</p>
<ul>
<li>随着对象的创建而执行</li>
<li>每创建当前类的一个实例，就会执行一次非静态代码块</li>
<li>作用：用来初始化对象的信息</li>
<li>内部可以声明变量、调用属性或方法、编写输出语句</li>
<li>可以调用静态结构和非静态结构</li>
</ul>
<p>当赋值的值，一行代码没有办法获得该值时，我们可以考虑使用代码块</p>
<h1 id="final关键字"><a href="#final关键字" class="headerlink" title="final关键字"></a>final关键字</h1><h2 id="final可以用于修饰类、方法、变量"><a href="#final可以用于修饰类、方法、变量" class="headerlink" title="final可以用于修饰类、方法、变量"></a>final可以用于修饰类、方法、变量</h2><p>类：表示此类不能被继承</p>
<p>​	比如：String,SringBuffer, StringBuilder{}</p>
<p>方法：表示此方法不能被重写</p>
<p>​	比如 Object类中getClasse()</p>
<p>变量：既可以修饰成员，也可以修饰局部变量。 此时变量其实变成了常量</p>
<p>​	1.final修饰成员变量：哪些位置可以给成员变量赋值？</p>
<ul>
<li>显式赋值</li>
<li>代码块中</li>
<li>构造器中</li>
</ul>
<p>​	2.final修饰局部变量，一旦赋值不能改变</p>
<ul>
<li>方法内声明的局部变量：调用局部变量前，一定需要赋值，一旦赋值，不可更改</li>
<li>方法的形参：在调用此方法时，给形参进行赋值</li>
</ul>
<p>final与static搭配修饰成员变量时：此成员变量称为<strong>全局常量</strong></p>
<p>比如Math中的PI</p>
<h1 id="经典题目"><a href="#经典题目" class="headerlink" title="经典题目"></a>经典题目</h1><h2 id="1-静态变量和实际变量区别和使用场景"><a href="#1-静态变量和实际变量区别和使用场景" class="headerlink" title="1.静态变量和实际变量区别和使用场景"></a>1.静态变量和实际变量区别和使用场景</h2><h2 id="2-静态方法是否可以被继承？是否可以被重写？"><a href="#2-静态方法是否可以被继承？是否可以被重写？" class="headerlink" title="2.静态方法是否可以被继承？是否可以被重写？"></a>2.静态方法是否可以被继承？是否可以被重写？</h2><p>静态方法不能被<strong>重写</strong>。</p>
<p>父子类两同名方法，如果不是静态就是重写， 如果都是静态，就是两个独立的方法，静态方法不存在多态性。</p>
<p>但是可以<strong>重载</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">	 sout(<span class="string">&quot;爸爸吃饭&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">	 sout(<span class="string">&quot;儿子吃饭&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Public <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    main()&#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line">        p1.eat();   输出的是爸爸吃饭</span><br><span class="line">          </span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>



<h2 id="3-是否可以从一个static方法内部发出对非static方法的调用"><a href="#3-是否可以从一个static方法内部发出对非static方法的调用" class="headerlink" title="3.是否可以从一个static方法内部发出对非static方法的调用"></a>3.是否可以从一个static方法内部发出对非static方法的调用</h2><p>不可以。 静态方法只能访问静态成员。</p>
<p>如果可以也只能通过对象来对非静态方法调用</p>
<h2 id="4-被static修饰的成员（类、方法、成员变量）能否再使用private进行修饰"><a href="#4-被static修饰的成员（类、方法、成员变量）能否再使用private进行修饰" class="headerlink" title="4.被static修饰的成员（类、方法、成员变量）能否再使用private进行修饰"></a><strong>4.被static修饰的成员（类、方法、成员变量）能否再使用private进行修饰</strong></h2><p>完全可以。除了代码块</p>
<h2 id="5-main-方法的Public能不能换成private，为什么"><a href="#5-main-方法的Public能不能换成private，为什么" class="headerlink" title="5.main()方法的Public能不能换成private，为什么"></a>5.main()方法的Public能不能换成private，为什么</h2><p>可以改。但是改完以后不是程序入口了</p>
<h2 id="6-main-方法是否可以调用非静态方法"><a href="#6-main-方法是否可以调用非静态方法" class="headerlink" title="6.main()方法是否可以调用非静态方法"></a>6.main()方法是否可以调用非静态方法</h2><p>只能通过对象来对非静态方法调用</p>
<h2 id="7-类的组成和属性赋值执行顺序"><a href="#7-类的组成和属性赋值执行顺序" class="headerlink" title="7.类的组成和属性赋值执行顺序"></a>7.类的组成和属性赋值执行顺序</h2><h2 id="8-静态代码块、普通代码块，构造方法，从类加载开始的执行顺序"><a href="#8-静态代码块、普通代码块，构造方法，从类加载开始的执行顺序" class="headerlink" title="8.静态代码块、普通代码块，构造方法，从类加载开始的执行顺序"></a>8.静态代码块、普通代码块，构造方法，从类加载开始的执行顺序</h2><p>静态代码块》普通代码块》构造器</p>
<h2 id="9-对final的理解"><a href="#9-对final的理解" class="headerlink" title="9.对final的理解"></a>9.对final的理解</h2><h2 id="10-使用final修饰一个变量时，是引用不能改变，引用指向的对象可以改变？"><a href="#10-使用final修饰一个变量时，是引用不能改变，引用指向的对象可以改变？" class="headerlink" title="10.使用final修饰一个变量时，是引用不能改变，引用指向的对象可以改变？"></a>10.使用final修饰一个变量时，是引用不能改变，引用指向的对象可以改变？</h2><p>引用不能改变</p>
<p>引用指向的对象实体中的属性，如果没有final修饰，则可以改变</p>
<h2 id="11-final不能用于修饰构造器方法"><a href="#11-final不能用于修饰构造器方法" class="headerlink" title="11.final不能用于修饰构造器方法"></a>11.final不能用于修饰构造器方法</h2><h2 id="12-final或static-final修饰成员变量，能不能进行-操作"><a href="#12-final或static-final修饰成员变量，能不能进行-操作" class="headerlink" title="12. final或static final修饰成员变量，能不能进行++操作"></a>12. final或static final修饰成员变量，能不能进行++操作</h2><p>不能</p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aluggnb.com/2023/09/29/javaday3_oob2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Alugg">
      <meta itemprop="description" content="Step out of your comfort zone">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alugg's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/09/29/javaday3_oob2/" class="post-title-link" itemprop="url">java-Day3——继承</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-09-29 22:44:01" itemprop="dateCreated datePublished" datetime="2023-09-29T22:44:01+08:00">2023-09-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>5.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Java中的继承"><a href="#Java中的继承" class="headerlink" title="Java中的继承"></a>Java中的继承</h2><p>继承是类和类之间的关系</p>
<p><strong>继承的理解</strong>:</p>
<p>自上而下：定义了一个类A，在定义另一个类B时，发现类B的功能与类A相似，考虑类B继承于类A</p>
<p>自下而上：定义B,C,D有类似的属性和，则考虑可以将相同的属性和方法进行抽取，封装到类A中，让类B,C,D继承于类A</p>
<p>语法格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>B类继承了A类。</p>
<p>注意：java中的继承是<strong>单继承</strong>，只能有一个父类。但可以多重继承</p>
<p>1.<strong>成员变量（属性）</strong></p>
<p>​	公开的和默认的属性，子类可以继承使用</p>
<p>2.<strong>成员方法:</strong></p>
<p>​	公开和默认的成员方法，子类可以继承使用</p>
<p><strong>总结：</strong> 凡是私有的，无法继承。</p>
<p>3.<strong>构造方法：</strong></p>
<p>​	先执行父类构造方法，再执行子类的构造方法</p>
<p>​	如果父类中有有参构造，但是没有无参构造,并且子类没有调用父类构造器，子类会报错</p>
<p><strong>总结：</strong>父类与子类的构造方法的形式需要保持一致</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">Father</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> String name;</span><br><span class="line">	<span class="type">int</span> age; <span class="comment">//默认的属性</span></span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> id;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.id = id;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Father</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Constructor Father&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Manger&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Courir&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">fumer</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Fumer&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">		fumer();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">		<span class="keyword">public</span> <span class="title function_">Son</span><span class="params">()</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;Constructor Son&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span>&#123;</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">			<span class="type">Son</span> <span class="variable">son</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line">			son.name = <span class="string">&quot;YY&quot;</span>;</span><br><span class="line">			son.age = <span class="number">1</span>;</span><br><span class="line">			System.out.println(son.name);</span><br><span class="line">			System.out.println(son.age);</span><br><span class="line">			son.eat();</span><br><span class="line">			son.work();</span><br><span class="line">			<span class="comment">//使用set/get访问父类私有化属性</span></span><br><span class="line">			son.setId(<span class="number">999</span>);</span><br><span class="line">			son.test(); </span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<h2 id="重写override"><a href="#重写override" class="headerlink" title="重写override"></a>重写override</h2><p><strong>重写目的</strong>：子类可以继承父类的非私有化的方法，有时父类的需求满足不了子类的需求，这时需要重写父类非私有的方法</p>
<p><strong>重写的要求</strong>：</p>
<ul>
<li>必须要有继承关系</li>
<li>父类的方法必须是<strong>非私有化</strong>的</li>
<li>在子类中重写的方法，除方法体外其他的都一样</li>
<li>子类重写的方法的权限修饰符不小于父类被重写的方法的权限修饰符</li>
<li>关于返回值<br>  -父类的方法的返回值类型是<strong>void</strong>,则子类重写的返回值必须是void<br>  -父类返回值为<strong>基本数据类型</strong>，子类必须是<strong>一模一样</strong>的基本数据类型<br>  -父类返回值是<strong>引用数据类型</strong>（比如类），子类返回值可以与被重写的返回值类型<strong>相同</strong>或是被重写的方法的返回值类型的<strong>子类</strong></li>
<li>关于异常<br> -子类重写抛出的异常可以与父类方法的异常类型相同或是异常类型的子类<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Manger F&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drive</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Conduire F&quot;</span>);</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">	<span class="comment">//重写的方法和父类方法的返回值、参数、方法名字一模一样但是方法体不一样。</span></span><br><span class="line">	<span class="meta">@Override</span> <span class="comment">//重写的严格限定</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Manger Son&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drive</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;drive Son&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">Son</span> <span class="variable">son</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line">		son.eat();</span><br><span class="line">		son.drive();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="重载overload"><a href="#重载overload" class="headerlink" title="重载overload"></a>重载overload</h2><p>java同一个类中有很多个方法，方法名一样，但参数类型不一样，这就重载</p>
<p><strong>总结：</strong></p>
<ul>
<li>方法的重载必须在同一个类中</li>
<li>方法名字必须一致</li>
<li>方法的参数类型必须不一致</li>
<li>方法的返回值可以不一样</li>
<li>无参构造和有参构造，也是一种重载</li>
</ul>
<h2 id="Super关键字"><a href="#Super关键字" class="headerlink" title="Super关键字"></a>Super关键字</h2><p>只能用于继承，并在子类中使用。代表父类对象<br>Case1: 子类继承父类后，对父类方法进行重写，在子类中对父类的方法进行调用<br>Case2: 子类继承父类后，发现子类和父类中定义类了同名的属性，在子类中区分同名属性</p>
<p>this:</p>
<ul>
<li>​	代表当前类对象</li>
<li>​    可以调用属性和方法</li>
<li>​    可以调用构造方法</li>
</ul>
<p>super:</p>
<ul>
<li>​	代表父类的对象</li>
<li>​	可以调用父类的成员变量和成员方法</li>
<li>​    当super调用属性时，就是内存里面那一个，子类和父类的共有属性都是同一个内存地址</li>
<li>​	可以调用父类的构造方法</li>
</ul>
<h2 id="子类对象实例化全过程"><a href="#子类对象实例化全过程" class="headerlink" title="子类对象实例化全过程"></a>子类对象实例化全过程</h2><p>1.从结构角度来看：体现为类的继承性</p>
<p>当我们创建子类对象后，子类对象就获取了其父类中声明所有的属性和方法，在权限允许的情况下，可以直接调用</p>
<p>2.从过程角度来看：</p>
<p>当我们通过子类的构造器创建对象时，子类的构造器一定会直接或间接调用其父类的构造器，而其父类的构造器同样会直接或间接的调用其父类的父类构造器…直到调用了Object类中的构造器为止</p>
<p>正因为我们调用过子类所有父类的构造器，所有我们就会将父类中声明的属性、方法加载到内存中，供子类对象使用</p>
<h2 id="抽象"><a href="#抽象" class="headerlink" title="抽象"></a>抽象</h2><p>在面向对象中，所有的对象可以通过类来创建。并不是所有类可以通过创建对象。如果一个类中没有足够完整的信息来描述具体的对象的话，那么这个类叫抽象类</p>
<p>abstract修饰<strong>类</strong>：</p>
<ul>
<li>此类成为抽象类</li>
<li>抽象类不能实例化</li>
<li>抽象类中<strong>是包含构造器的</strong>，因为子类实例化时会直接或间接调用到父类的构造器</li>
<li>抽象类可以没有抽象方法。</li>
</ul>
<p>abstract修饰<strong>方法</strong>：</p>
<ul>
<li>此方法即为抽象方法</li>
<li>抽象方法只有方法声明，没有方法体。</li>
<li>子类必须要重写父类的所有抽象方法后才能实例化</li>
</ul>
<p>abstract不能修饰：属性、构造器、代码块等</p>
<p>abstract不能修饰：私有方法、静态方法、final方法、final类</p>
<ul>
<li>私有方法不能重写</li>
<li>静态方法不支持重写</li>
<li>final的方法不能被重写</li>
<li>final修饰的类无子类</li>
</ul>
<h2 id="对象的多态性"><a href="#对象的多态性" class="headerlink" title="对象的多态性"></a>对象的多态性</h2><p>1.如何理解多态性：一个事物的多种形态。</p>
<p>2.Java多态性的体现：</p>
<p>​	子类对象的多态性：父类的引用指向子类的对象</p>
<p>​	比如 Peple p &#x3D; new Man();</p>
<p>3.多态性的应用：</p>
<p>多态性的应用：虚拟方法的调用</p>
<p>在多态场景下，调用方法时：</p>
<p>​	编译时，认为方法是左边声明的父类的类型的方法</p>
<p>​	执行时，实际执行的是右边<strong>子类重写</strong>父类的方法</p>
<p>简称：编译看左边，运行看右边</p>
<p>多态是运行时的行为。</p>
<p>4.多态使用前提：</p>
<ul>
<li>要有类的继承关系</li>
<li>要有方法的重写</li>
</ul>
<p>5.多态的实用性</p>
<p><strong>开发中：</strong></p>
<p>使用父类做方法的形参，是多态使用最多的场合。即使增加了新的子类，方法也无需改变，提高了扩展性，符合开闭原则。</p>
<p><strong>开闭原则</strong></p>
<ol>
<li>对扩展开放，对修改关闭</li>
<li>简单来说，软件系统的各种组件，如模块、类、功能等，应该在不修改现有代码基础上，引入新功能。</li>
</ol>
<p>ex:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Account</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">withdraw</span><span class="params">()</span>&#123;&#125; <span class="comment">//取钱</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CheckAccount</span> <span class="keyword">extends</span> <span class="title class_">Account</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">withdraw</span><span class="params">()</span>&#123;&#125; <span class="comment">//取钱</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SavingAccount</span> <span class="keyword">extends</span> <span class="title class_">Account</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">withdraw</span><span class="params">()</span>&#123;&#125; <span class="comment">//取钱</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Customer</span>&#123;</span><br><span class="line">    Account account;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAccount</span><span class="params">(Account account)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.account = account;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> Account <span class="title function_">getAccount</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> account;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    main()&#123;</span><br><span class="line">        <span class="type">Customer</span> <span class="variable">cust</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer</span>();</span><br><span class="line">        cust.setAccount(<span class="keyword">new</span> <span class="title class_">CheckAccount</span>()); <span class="comment">//直接使用子类</span></span><br><span class="line">        cust.withdraw(); <span class="comment">//使用的也是子类重写的方法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>好处： 减少代码冗余，不需要定义多个重载的方法</p>
<p>弊端：</p>
<p>在多态场景下，创建了子类的对象，也加载了子类特有的属性和方法。但是由于声明为父类的引用导致我们没有办法<strong>直接</strong>调用子类特有的属性和方法。</p>
<h3 id="向上转型和向下转型"><a href="#向上转型和向下转型" class="headerlink" title="向上转型和向下转型"></a>向上转型和向下转型</h3><p>因为多态一定会有把子类对象赋值给父类变量的时候，这个时候，<strong>在编译期间</strong>，就会出现类型转换的现象。</p>
<p>但是，父类变量接受了子类对象之后，我们就<strong>不能调用</strong>子类拥有而父类没有的方法了。想要调用<strong>子类特有</strong>的方法，必须做类型转换，使得编译通过。</p>
<p><a target="_blank" rel="noopener" href="https://imgloc.com/image/VR33I"><img src="https://i.imgs.ovh/2023/10/02/VR33I.png" alt="VR33I.png"></a></p>
<p>向下转型后就可以调用子类的特有方法。但在转型前，先使用instanceof进行判断</p>
<p>格式： a instanceOf A      （判断对象a是否是类A的实例）  </p>
<h2 id="Object类"><a href="#Object类" class="headerlink" title="Object类"></a>Object类</h2><p>1.类java.lang.Object是类层次结构的根类，即其他所有层次的父类。</p>
<ul>
<li><p>Object类中没有声明属性</p>
</li>
<li><p>Object类提供了一个空参构造器</p>
</li>
</ul>
<h3 id="Equals"><a href="#Equals" class="headerlink" title="Equals()"></a>Equals()</h3><p>1.适用性：</p>
<p>任何引用数据类型都可以使用</p>
<p>2.子类使用说明：</p>
<ul>
<li><p><strong>自定义类</strong>在没有重写Object中的equals()方法时，调用的就是Object类中声明的equals(),比较两个对象的引用地址是否相同。（或比较两个对象是否指向了堆空间中的同一个对象实体）</p>
</li>
<li><p>像String、File、Date和包装类等，它们都重写了Object类中的equals()方法，用于比较两个对象的实体内容是否相等</p>
</li>
</ul>
<p>3.开发中使用说明：</p>
<p>实际开发中，针对于自定义的类，常常会判断两个对象是否equals(),而此时主要是判断两个对象的<strong>属性值</strong>是否相等。所有我们需要重写object类的equals()方法</p>
<p>重写方法：</p>
<ul>
<li><p>自己重写</p>
</li>
<li><p>调用IDEA自动生成</p>
</li>
</ul>
<p>4.注意：判断两个对象是否equals（）,除了该对象的类需要重写equals之外，其内部的<strong>类类型</strong>的属性所在的类，也需要重写equals()</p>
<p>5.常见问题：区分 &#x3D;&#x3D; 和equals()</p>
<p>&#x3D;&#x3D; ：运算符</p>
<ol>
<li>使用范围：基本数据类型、引用数据类型</li>
<li>基本数据类型：判断数据值是否相等</li>
</ol>
<p>equals():方法</p>
<ol>
<li>使用范围：只能使用在引用数据类型上</li>
<li>具体使用：对于类来说，重写equals()和不重写equals的区别</li>
</ol>
<h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h3><p>Object中的toString()调用后，返回当前对象所属的类和地址值</p>
<p>1.开发中的使用场景</p>
<p>平时在调用system,out.println()打印对象变量时，其实就调用了对象的toString()</p>
<p>2.子类使用说明</p>
<ul>
<li><p>自定义的类，在没有重写Object类的toString()的情况下，默认返回的是当前对象的地址</p>
</li>
<li><p>像String、file、Date或包装类等object子类，它们都重写了Object类的toString()，在调用toString()时，返回当前对象的实体内容</p>
</li>
</ul>
<p>3.开发中使用说明</p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Alugg"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Alugg</p>
  <div class="site-description" itemprop="description">Step out of your comfort zone</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">44</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:lu.tian2022@gmail.com" title="E-Mail → mailto:lu.tian2022@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2023-09 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Alugg</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">200k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">3:02</span>
</div>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
